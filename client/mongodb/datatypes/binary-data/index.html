<div data-github-url="https://github.com/kamranahmedse/developer-roadmap/tree/master/src/data/roadmaps/mongodb/content/101-datatypes/106-binary-data.md"></div> <h1 id="binary-data">Binary data</h1>
<p>Binary Data is a datatype in MongoDB that is used to store binary content like images, audio files, or any other data that can be represented in binary format. This datatype is particularly useful when you need to store large files, manipulate raw binary data, or work with data that cannot be encoded as UTF-8 strings.</p>
<p>In MongoDB, binary data is represented using the BSON Binary type, which uses a binary format for encoding and decoding data. The BSON Binary type has several subtypes to better categorize the kind of binary data being stored, such as <code>B_GENERAL</code>, <code>B_FUNCTION</code>, and <code>B_BINARY</code>.</p>
<h2 id="advantages-of-using-binary-data">Advantages of using Binary Data</h2>
<ul>
<li><strong>Storage:</strong> Storing files directly in the MongoDB database removes the necessity for an additional file storage system and eases the retrieval and management of the files.</li>
<li><strong>Efficiency:</strong> Binary data can be more efficiently stored and processed than textual representations of the same data.</li>
<li><strong>Interoperability:</strong> Storing data in binary format allows for seamless communication between systems using different character encodings and serialization formats.</li>
</ul>
<h2 id="working-with-binary-data-in-mongodb">Working with Binary Data in MongoDB</h2>
<p>To work with binary data in MongoDB, you will need to utilize the <code>Binary</code> class provided by your MongoDB driver. This class offers methods to create, encode, and decode binary data objects.</p>
<p>Here’s an example of creating a binary data object using the <code>Binary</code> class in Python:</p>
<pre class="astro-code dracula" style="background-color:#282A36;color:#F8F8F2; overflow-x: auto;" tabindex="0" data-language="python"><code><span class="line"><span style="color:#FF79C6">from</span><span style="color:#F8F8F2"> bson.binary </span><span style="color:#FF79C6">import</span><span style="color:#F8F8F2"> Binary</span></span>
<span class="line"><span style="color:#FF79C6">from</span><span style="color:#F8F8F2"> bson </span><span style="color:#FF79C6">import</span><span style="color:#F8F8F2"> ObjectId</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6272A4"># Create a binary data object</span></span>
<span class="line"><span style="color:#F8F8F2">image_data </span><span style="color:#FF79C6">=</span><span style="color:#8BE9FD"> open</span><span style="color:#F8F8F2">(</span><span style="color:#E9F284">"</span><span style="color:#F1FA8C">image.jpg</span><span style="color:#E9F284">"</span><span style="color:#F8F8F2">, </span><span style="color:#E9F284">"</span><span style="color:#F1FA8C">rb</span><span style="color:#E9F284">"</span><span style="color:#F8F8F2">).read()</span></span>
<span class="line"><span style="color:#F8F8F2">binary_image_data </span><span style="color:#FF79C6">=</span><span style="color:#F8F8F2"> Binary(image_data)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6272A4"># Storing binary data in a MongoDB collection</span></span>
<span class="line"><span style="color:#F8F8F2">data_collection </span><span style="color:#FF79C6">=</span><span style="color:#F8F8F2"> db.collection_name</span></span>
<span class="line"><span style="color:#F8F8F2">document </span><span style="color:#FF79C6">=</span><span style="color:#F8F8F2"> {</span></span>
<span class="line"><span style="color:#E9F284">    "</span><span style="color:#F1FA8C">name</span><span style="color:#E9F284">"</span><span style="color:#F8F8F2">: </span><span style="color:#E9F284">"</span><span style="color:#F1FA8C">Sample Image</span><span style="color:#E9F284">"</span><span style="color:#F8F8F2">,</span></span>
<span class="line"><span style="color:#E9F284">    "</span><span style="color:#F1FA8C">image_data</span><span style="color:#E9F284">"</span><span style="color:#F8F8F2">: binary_image_data,</span></span>
<span class="line"><span style="color:#F8F8F2">}</span></span>
<span class="line"><span style="color:#F8F8F2">stored_data </span><span style="color:#FF79C6">=</span><span style="color:#F8F8F2"> data_collection.insert_one(document)</span></span>
<span class="line"></span></code></pre>
<p>When it comes to retrieving binary data from the database, you can use your MongoDB driver’s <code>find</code> method to query the required document and access the binary field.</p>
<p>For example, in Python:</p>
<pre class="astro-code dracula" style="background-color:#282A36;color:#F8F8F2; overflow-x: auto;" tabindex="0" data-language="python"><code><span class="line"><span style="color:#6272A4"># Retrieve binary data from the database</span></span>
<span class="line"><span style="color:#F8F8F2">document </span><span style="color:#FF79C6">=</span><span style="color:#F8F8F2"> data_collection.find_one({</span><span style="color:#E9F284">"</span><span style="color:#F1FA8C">name</span><span style="color:#E9F284">"</span><span style="color:#F8F8F2">: </span><span style="color:#E9F284">"</span><span style="color:#F1FA8C">Sample Image</span><span style="color:#E9F284">"</span><span style="color:#F8F8F2">})</span></span>
<span class="line"><span style="color:#F8F8F2">retrieved_image_data </span><span style="color:#FF79C6">=</span><span style="color:#F8F8F2"> document[</span><span style="color:#E9F284">"</span><span style="color:#F1FA8C">image_data</span><span style="color:#E9F284">"</span><span style="color:#F8F8F2">]</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6272A4"># Save the retrieved binary data to a new file</span></span>
<span class="line"><span style="color:#FF79C6">with</span><span style="color:#8BE9FD"> open</span><span style="color:#F8F8F2">(</span><span style="color:#E9F284">"</span><span style="color:#F1FA8C">retrieved_image.jpg</span><span style="color:#E9F284">"</span><span style="color:#F8F8F2">, </span><span style="color:#E9F284">"</span><span style="color:#F1FA8C">wb</span><span style="color:#E9F284">"</span><span style="color:#F8F8F2">) </span><span style="color:#FF79C6">as</span><span style="color:#F8F8F2"> f:</span></span>
<span class="line"><span style="color:#F8F8F2">    f.write(retrieved_image_data)</span></span>
<span class="line"></span></code></pre>
<p>Keep in mind that storing large binary files in a MongoDB database might result in performance issues. In such cases, consider using a separate file storage system or MongoDB’s <a href="https://docs.mongodb.com/manual/core/gridfs/" rel="noopener noreferrer nofollow" target="_blank">GridFS</a> to store and manage binary data.</p>