<div data-github-url="https://github.com/kamranahmedse/developer-roadmap/tree/master/src/data/roadmaps/mongodb/content/102-useful-concepts/100-read-write-concerns.md"></div> <h1 id="read--write-concerns">Read / Write Concerns</h1>
<p><em>Read and write concerns</em> are crucial aspects of data consistency and reliability in MongoDB. They determine the level of acknowledgement required by the database for read and write operations. Understanding these concerns can help you balance performance and data durability based on your application needs.</p>
<h2 id="read-concern">Read Concern</h2>
<p>A <em>read concern</em> determines the consistency level of the data returned by a query. It specifies the version of data that a query should return. MongoDB supports different read concern levels:</p>
<ul>
<li><code>local</code> (default): Returns the most recent data available on the primary node at the time of query execution. It does not guarantee consistency across replica sets.</li>
<li><code>available</code>: The query returns the most recent data available on the queried node. This level is only applicable to sharded clusters.</li>
<li><code>majority</code>: The query returns data that has been acknowledged by a majority of replica set members. It provides a higher level of consistency but may have higher latency.</li>
<li><code>linearizable</code>: Ensures reading the most recent data that has been acknowledged by a majority of replica sets. This level guarantees the highest consistency but can be the slowest among all levels.</li>
<li><code>snapshot</code>: Returns the data from a specific snapshot timestamp. This level is useful for read transactions with snapshot isolation.</li>
</ul>
<h2 id="write-concern">Write Concern</h2>
<p>A <em>write concern</em> indicates the level of acknowledgment MongoDB should provide when writing data to the database. It ensures that the data has been successfully written and replicated before acknowledging the write operation. The different write concern levels are:</p>
<ul>
<li><code>w: 0</code>: The write operation is unacknowledged, which means MongoDB does not send any acknowledgment. This level provides the lowest latency but carries the risk of losing data.</li>
<li><code>w: 1</code> (default): The write operation is acknowledged after being successfully written to the primary node. It does not guarantee replication to other replica set members.</li>
<li><code>w: majority</code>: The write operation is acknowledged after being written and replicated to a majority of replica set members. This level provides better data durability but may have increased latency.</li>
<li><code>w: &#x3C;number></code>: The write operation is acknowledged after being replicated to the specified number of replica set members. This level provides a custom level of data durability.</li>
</ul>
<p>Additionally, the <code>j</code> and <code>wtimeout</code> options can be used to fine-tune the write concern:</p>
<ul>
<li><code>j: true/false</code>: Specifies whether the write operation must be written to the journal before acknowledgment. Setting <code>j: true</code> ensures the data is committed to the journal and provides increased durability.</li>
<li><code>wtimeout: &#x3C;ms></code>: Specifies a time limit in milliseconds for write operations to be acknowledged. If the acknowledgment is not received within the specified time, the operation returns a timeout error. However, this does not mean the write operation failed; it may still be successful at a later point in time.</li>
</ul>
<p>By configuring read and write concerns appropriately, you can manage the consistency and durability of your MongoDB database according to your application requirements.</p>