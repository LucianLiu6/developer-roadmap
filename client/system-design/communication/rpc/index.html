<div data-github-url="https://github.com/kamranahmedse/developer-roadmap/tree/master/src/data/roadmaps/system-design/content/115-communication/103-rpc.md"></div> <h1 id="rpc">RPC</h1>
<p>In an RPC, a client causes a procedure to execute on a different address space, usually a remote server. The procedure is coded as if it were a local procedure call, abstracting away the details of how to communicate with the server from the client program. Remote calls are usually slower and less reliable than local calls so it is helpful to distinguish RPC calls from local calls. Popular RPC frameworks include <a href="https://developers.google.com/protocol-buffers/" rel="noopener noreferrer nofollow" target="_blank">Protobuf</a>, <a href="https://thrift.apache.org/" rel="noopener noreferrer nofollow" target="_blank">Thrift</a>, and <a href="https://avro.apache.org/docs/current/" rel="noopener noreferrer nofollow" target="_blank">Avro</a>.</p>
<p>RPC is a request-response protocol:</p>
<ul>
<li>Client program - Calls the client stub procedure. The parameters are pushed onto the stack like a local procedure call.</li>
<li>Client stub procedure - Marshals (packs) procedure id and arguments into a request message.</li>
<li>Client communication module - OS sends the message from the client to the server.</li>
<li>Server communication module - OS passes the incoming packets to the server stub procedure.</li>
<li>Server stub procedure - Unmarshalls the results, calls the server procedure matching the procedure id and passes the given arguments.</li>
<li>The server response repeats the steps above in reverse order.</li>
</ul>
<p>Sample RPC calls:</p>
<pre class="astro-code dracula" style="background-color:#282A36;color:#F8F8F2; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>GET /someoperation?data=anId</span></span>
<span class="line"><span></span></span>
<span class="line"><span>POST /anotheroperation</span></span>
<span class="line"><span>{</span></span>
<span class="line"><span>  "data":"anId";</span></span>
<span class="line"><span>  "anotherdata": "another value"</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span></span></span></code></pre>
<p>RPC is focused on exposing behaviors. RPCs are often used for performance reasons with internal communications, as you can hand-craft native calls to better fit your use cases.</p>
<h2 id="disadvantage-of-rpc">Disadvantage of RPC</h2>
<ul>
<li>RPC clients become tightly coupled to the service implementation.</li>
<li>A new API must be defined for every new operation or use case.</li>
<li>It can be difficult to debug RPC.</li>
<li>You might not be able to leverage existing technologies out of the box. For example, it might require additional effort to ensure <a href="http://etherealbits.com/2012/12/debunking-the-myths-of-rpc-rest/" rel="noopener noreferrer nofollow" target="_blank">RPC calls are properly cached</a> on caching servers such as <a href="http://www.squid-cache.org/" rel="noopener noreferrer nofollow" target="_blank">Squid</a>.</li>
</ul>
<p>To learn more, visit the following links:</p>
<ul>
<li><a href="https://github.com/donnemartin/system-design-primer#remote-procedure-call-rpc" rel="noopener noreferrer nofollow" target="_blank">@opensource@What Is RPC?</a></li>
<li><a href="https://app.daily.dev/tags/backend?ref=roadmapsh" rel="noopener noreferrer nofollow" target="_blank">@feed@Explore top posts about Backend Development</a></li>
</ul>