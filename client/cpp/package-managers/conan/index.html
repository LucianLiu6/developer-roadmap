<div data-github-url="https://github.com/kamranahmedse/developer-roadmap/tree/master/src/data/roadmaps/cpp/content/117-package-managers/102-conan.md"></div> <h1 id="conan">Conan</h1>
<p><a href="https://conan.io/" rel="noopener noreferrer nofollow" target="_blank">Conan</a> is a popular package manager for C and C++ languages and is designed to be cross-platform, extensible, and easy to use. It allows developers to declare, manage, and fetch dependencies while automating the build process. Conan supports various build systems, such as CMake, Visual Studio, MSBuild, and more.</p>
<h2 id="installation">Installation</h2>
<p>To install Conan, you can use pip, the Python package manager:</p>
<pre class="astro-code dracula" style="background-color:#282A36;color:#F8F8F2; overflow-x: auto;" tabindex="0" data-language="bash"><code><span class="line"><span style="color:#50FA7B">pip</span><span style="color:#F1FA8C"> install</span><span style="color:#F1FA8C"> conan</span></span>
<span class="line"></span></code></pre>
<h2 id="basic-usage">Basic Usage</h2>
<ul>
<li>Create a <code>conanfile.txt</code> file in your project root directory, specifying dependencies you need for your project:</li>
</ul>
<pre class="astro-code dracula" style="background-color:#282A36;color:#F8F8F2; overflow-x: auto;" tabindex="0" data-language="ini"><code><span class="line"><span style="color:#F8F8F2">[requires]</span></span>
<span class="line"><span style="color:#F8F8F2">boost/1.75.0</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F8F8F2">[generators]</span></span>
<span class="line"><span style="color:#F8F8F2">cmake</span></span>
<span class="line"></span></code></pre>
<ul>
<li>Run the <code>conan install</code> command to fetch and build required dependencies:</li>
</ul>
<pre class="astro-code dracula" style="background-color:#282A36;color:#F8F8F2; overflow-x: auto;" tabindex="0" data-language="bash"><code><span class="line"><span style="color:#50FA7B">mkdir</span><span style="color:#F1FA8C"> build</span><span style="color:#F8F8F2"> &#x26;&#x26; </span><span style="color:#8BE9FD">cd</span><span style="color:#F1FA8C"> build</span></span>
<span class="line"><span style="color:#50FA7B">conan</span><span style="color:#F1FA8C"> install</span><span style="color:#F1FA8C"> ..</span></span>
<span class="line"></span></code></pre>
<ul>
<li>Now build your project using your build system, for example CMake:</li>
</ul>
<pre class="astro-code dracula" style="background-color:#282A36;color:#F8F8F2; overflow-x: auto;" tabindex="0" data-language="bash"><code><span class="line"><span style="color:#50FA7B">cmake</span><span style="color:#F1FA8C"> ..</span><span style="color:#BD93F9"> -DCMAKE_BUILD_TYPE=Release</span></span>
<span class="line"><span style="color:#50FA7B">cmake</span><span style="color:#BD93F9"> --build</span><span style="color:#F1FA8C"> .</span></span>
<span class="line"></span></code></pre>
<h2 id="creating-packages">Creating Packages</h2>
<p>To create a package in Conan, you need to write a <code>conanfile.py</code> file with package information and build instructions.</p>
<p>Hereâ€™s an example:</p>
<pre class="astro-code dracula" style="background-color:#282A36;color:#F8F8F2; overflow-x: auto;" tabindex="0" data-language="python"><code><span class="line"><span style="color:#FF79C6">from</span><span style="color:#F8F8F2"> conans </span><span style="color:#FF79C6">import</span><span style="color:#F8F8F2"> ConanFile, CMake</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF79C6">class</span><span style="color:#8BE9FD"> MyLibraryConan</span><span style="color:#F8F8F2">(</span><span style="color:#8BE9FD;font-style:italic">ConanFile</span><span style="color:#F8F8F2">):</span></span>
<span class="line"><span style="color:#F8F8F2">    name </span><span style="color:#FF79C6">=</span><span style="color:#E9F284"> "</span><span style="color:#F1FA8C">MyLibrary</span><span style="color:#E9F284">"</span></span>
<span class="line"><span style="color:#F8F8F2">    version </span><span style="color:#FF79C6">=</span><span style="color:#E9F284"> "</span><span style="color:#F1FA8C">0.1</span><span style="color:#E9F284">"</span></span>
<span class="line"><span style="color:#8BE9FD">    license</span><span style="color:#FF79C6"> =</span><span style="color:#E9F284"> "</span><span style="color:#F1FA8C">MIT</span><span style="color:#E9F284">"</span></span>
<span class="line"><span style="color:#F8F8F2">    url </span><span style="color:#FF79C6">=</span><span style="color:#E9F284"> "</span><span style="color:#F1FA8C">https://github.com/username/mylibrary</span><span style="color:#E9F284">"</span></span>
<span class="line"><span style="color:#F8F8F2">    description </span><span style="color:#FF79C6">=</span><span style="color:#E9F284"> "</span><span style="color:#F1FA8C">A simple example library</span><span style="color:#E9F284">"</span></span>
<span class="line"><span style="color:#F8F8F2">    settings </span><span style="color:#FF79C6">=</span><span style="color:#E9F284"> "</span><span style="color:#F1FA8C">os</span><span style="color:#E9F284">"</span><span style="color:#F8F8F2">, </span><span style="color:#E9F284">"</span><span style="color:#F1FA8C">compiler</span><span style="color:#E9F284">"</span><span style="color:#F8F8F2">, </span><span style="color:#E9F284">"</span><span style="color:#F1FA8C">build_type</span><span style="color:#E9F284">"</span><span style="color:#F8F8F2">, </span><span style="color:#E9F284">"</span><span style="color:#F1FA8C">arch</span><span style="color:#E9F284">"</span></span>
<span class="line"><span style="color:#F8F8F2">    generators </span><span style="color:#FF79C6">=</span><span style="color:#E9F284"> "</span><span style="color:#F1FA8C">cmake</span><span style="color:#E9F284">"</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF79C6">    def</span><span style="color:#50FA7B"> build</span><span style="color:#F8F8F2">(</span><span style="color:#BD93F9;font-style:italic">self</span><span style="color:#F8F8F2">):</span></span>
<span class="line"><span style="color:#F8F8F2">        cmake </span><span style="color:#FF79C6">=</span><span style="color:#F8F8F2"> CMake(</span><span style="color:#BD93F9;font-style:italic">self</span><span style="color:#F8F8F2">)</span></span>
<span class="line"><span style="color:#F8F8F2">        cmake.configure(</span><span style="color:#FFB86C;font-style:italic">source_folder</span><span style="color:#FF79C6">=</span><span style="color:#E9F284">"</span><span style="color:#F1FA8C">src</span><span style="color:#E9F284">"</span><span style="color:#F8F8F2">)</span></span>
<span class="line"><span style="color:#F8F8F2">        cmake.build()</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF79C6">    def</span><span style="color:#50FA7B"> package</span><span style="color:#F8F8F2">(</span><span style="color:#BD93F9;font-style:italic">self</span><span style="color:#F8F8F2">):</span></span>
<span class="line"><span style="color:#BD93F9;font-style:italic">        self</span><span style="color:#F8F8F2">.copy(</span><span style="color:#E9F284">"</span><span style="color:#F1FA8C">*.hpp</span><span style="color:#E9F284">"</span><span style="color:#F8F8F2">, </span><span style="color:#FFB86C;font-style:italic">dst</span><span style="color:#FF79C6">=</span><span style="color:#E9F284">"</span><span style="color:#F1FA8C">include</span><span style="color:#E9F284">"</span><span style="color:#F8F8F2">, </span><span style="color:#FFB86C;font-style:italic">src</span><span style="color:#FF79C6">=</span><span style="color:#E9F284">"</span><span style="color:#F1FA8C">src/include</span><span style="color:#E9F284">"</span><span style="color:#F8F8F2">)</span></span>
<span class="line"><span style="color:#BD93F9;font-style:italic">        self</span><span style="color:#F8F8F2">.copy(</span><span style="color:#E9F284">"</span><span style="color:#F1FA8C">*.lib</span><span style="color:#E9F284">"</span><span style="color:#F8F8F2">, </span><span style="color:#FFB86C;font-style:italic">dst</span><span style="color:#FF79C6">=</span><span style="color:#E9F284">"</span><span style="color:#F1FA8C">lib</span><span style="color:#E9F284">"</span><span style="color:#F8F8F2">, </span><span style="color:#FFB86C;font-style:italic">keep_path</span><span style="color:#FF79C6">=</span><span style="color:#BD93F9">False</span><span style="color:#F8F8F2">)</span></span>
<span class="line"><span style="color:#BD93F9;font-style:italic">        self</span><span style="color:#F8F8F2">.copy(</span><span style="color:#E9F284">"</span><span style="color:#F1FA8C">*.dll</span><span style="color:#E9F284">"</span><span style="color:#F8F8F2">, </span><span style="color:#FFB86C;font-style:italic">dst</span><span style="color:#FF79C6">=</span><span style="color:#E9F284">"</span><span style="color:#F1FA8C">bin</span><span style="color:#E9F284">"</span><span style="color:#F8F8F2">, </span><span style="color:#FFB86C;font-style:italic">keep_path</span><span style="color:#FF79C6">=</span><span style="color:#BD93F9">False</span><span style="color:#F8F8F2">)</span></span>
<span class="line"><span style="color:#BD93F9;font-style:italic">        self</span><span style="color:#F8F8F2">.copy(</span><span style="color:#E9F284">"</span><span style="color:#F1FA8C">*.so</span><span style="color:#E9F284">"</span><span style="color:#F8F8F2">, </span><span style="color:#FFB86C;font-style:italic">dst</span><span style="color:#FF79C6">=</span><span style="color:#E9F284">"</span><span style="color:#F1FA8C">lib</span><span style="color:#E9F284">"</span><span style="color:#F8F8F2">, </span><span style="color:#FFB86C;font-style:italic">keep_path</span><span style="color:#FF79C6">=</span><span style="color:#BD93F9">False</span><span style="color:#F8F8F2">)</span></span>
<span class="line"><span style="color:#BD93F9;font-style:italic">        self</span><span style="color:#F8F8F2">.copy(</span><span style="color:#E9F284">"</span><span style="color:#F1FA8C">*.a</span><span style="color:#E9F284">"</span><span style="color:#F8F8F2">, </span><span style="color:#FFB86C;font-style:italic">dst</span><span style="color:#FF79C6">=</span><span style="color:#E9F284">"</span><span style="color:#F1FA8C">lib</span><span style="color:#E9F284">"</span><span style="color:#F8F8F2">, </span><span style="color:#FFB86C;font-style:italic">keep_path</span><span style="color:#FF79C6">=</span><span style="color:#BD93F9">False</span><span style="color:#F8F8F2">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF79C6">    def</span><span style="color:#50FA7B"> package_info</span><span style="color:#F8F8F2">(</span><span style="color:#BD93F9;font-style:italic">self</span><span style="color:#F8F8F2">):</span></span>
<span class="line"><span style="color:#BD93F9;font-style:italic">        self</span><span style="color:#F8F8F2">.cpp_info.libs </span><span style="color:#FF79C6">=</span><span style="color:#F8F8F2"> [</span><span style="color:#E9F284">"</span><span style="color:#F1FA8C">MyLibrary</span><span style="color:#E9F284">"</span><span style="color:#F8F8F2">]</span></span>
<span class="line"></span></code></pre>
<p>With that setup, you can create a package by running:</p>
<pre class="astro-code dracula" style="background-color:#282A36;color:#F8F8F2; overflow-x: auto;" tabindex="0" data-language="bash"><code><span class="line"><span style="color:#50FA7B">conan</span><span style="color:#F1FA8C"> create</span><span style="color:#F1FA8C"> .</span><span style="color:#F1FA8C"> username/channel</span></span>
<span class="line"></span></code></pre>
<p>This will compile the package and store it in your Conan cache. You can now use this package as a dependency in other projects.</p>