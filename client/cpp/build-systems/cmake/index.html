<div data-github-url="https://github.com/kamranahmedse/developer-roadmap/tree/master/src/data/roadmaps/cpp/content/116-build-systems/100-cmake.md"></div> <h1 id="cmake">CMake</h1>
<p>CMake is a powerful cross-platform build system that generates build files, Makefiles, or workspaces for various platforms and compilers. Unlike the others build systems, CMake does not actually build the project, it only generates the files needed by build tools. CMake is widely used, particularly in C++ projects, for its ease of use and flexibility.</p>
<h2 id="cmakeliststxt">CMakeLists.txt</h2>
<p>CMake uses a file called <code>CMakeLists.txt</code> to define settings, source files, libraries, and other configurations. A typical <code>CMakeLists.txt</code> for a simple project would look like:</p>
<pre class="astro-code dracula" style="background-color:#282A36;color:#F8F8F2; overflow-x: auto;" tabindex="0" data-language="cmake"><code><span class="line"><span style="color:#FF79C6">cmake_minimum_required</span><span style="color:#F8F8F2">(VERSION 3.0)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF79C6">project</span><span style="color:#F8F8F2">(MyProject)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF79C6">set</span><span style="color:#F8F8F2">(SRC_DIR </span><span style="color:#F1FA8C">"${CMAKE_CURRENT_LIST_DIR}/src"</span><span style="color:#F8F8F2">)</span></span>
<span class="line"><span style="color:#FF79C6">set</span><span style="color:#F8F8F2">(SOURCES </span><span style="color:#F1FA8C">"${SRC_DIR}/main.cpp"</span><span style="color:#F1FA8C"> "${SRC_DIR}/file1.cpp"</span><span style="color:#F1FA8C"> "${SRC_DIR}/file2.cpp"</span><span style="color:#F8F8F2">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF79C6">add_executable</span><span style="color:#F8F8F2">(</span><span style="color:#FF79C6">${PROJECT_NAME}</span><span style="color:#FF79C6"> ${SOURCES}</span><span style="color:#F8F8F2">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF79C6">target_include_directories</span><span style="color:#F8F8F2">(</span><span style="color:#FF79C6">${PROJECT_NAME}</span><span style="color:#F8F8F2"> PRIVATE </span><span style="color:#F1FA8C">"${CMAKE_CURRENT_LIST_DIR}/include"</span><span style="color:#F8F8F2">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF79C6">set_target_properties</span><span style="color:#F8F8F2">(</span><span style="color:#FF79C6">${PROJECT_NAME}</span><span style="color:#F8F8F2"> PROPERTIES</span></span>
<span class="line"><span style="color:#F8F8F2">    CXX_STANDARD 14</span></span>
<span class="line"><span style="color:#F8F8F2">    CXX_STANDARD_REQUIRED </span><span style="color:#FF79C6">ON</span></span>
<span class="line"><span style="color:#F8F8F2">    CXX_EXTENSIONS </span><span style="color:#FF79C6">OFF</span></span>
<span class="line"><span style="color:#F8F8F2">)</span></span>
<span class="line"></span></code></pre>
<h2 id="building-with-cmake">Building with CMake</h2>
<p>Here is an example of a simple build process using CMake:</p>
<ul>
<li>Create a new directory for the build.</li>
</ul>
<pre class="astro-code dracula" style="background-color:#282A36;color:#F8F8F2; overflow-x: auto;" tabindex="0" data-language="sh"><code><span class="line"><span style="color:#50FA7B">mkdir</span><span style="color:#F1FA8C"> build</span></span>
<span class="line"><span style="color:#8BE9FD">cd</span><span style="color:#F1FA8C"> build</span></span>
<span class="line"></span></code></pre>
<ul>
<li>Generate build files using CMake.</li>
</ul>
<pre class="astro-code dracula" style="background-color:#282A36;color:#F8F8F2; overflow-x: auto;" tabindex="0" data-language="sh"><code><span class="line"><span style="color:#50FA7B">cmake</span><span style="color:#F1FA8C"> ..</span></span>
<span class="line"></span></code></pre>
<p>In this example, <code>..</code> indicates the parent directory where <code>CMakeLists.txt</code> is located. The build files will be generated in the <code>build</code> directory.</p>
<ul>
<li>Build the project using the generated build files.</li>
</ul>
<pre class="astro-code dracula" style="background-color:#282A36;color:#F8F8F2; overflow-x: auto;" tabindex="0" data-language="sh"><code><span class="line"><span style="color:#50FA7B">make</span></span>
<span class="line"></span></code></pre>
<p>Or, on Windows with Visual Studio, you may use:</p>
<pre class="astro-code dracula" style="background-color:#282A36;color:#F8F8F2; overflow-x: auto;" tabindex="0" data-language="sh"><code><span class="line"><span style="color:#50FA7B">msbuild</span><span style="color:#F1FA8C"> MyProject.sln</span></span>
<span class="line"></span></code></pre>
<p>CMake makes it easy to manage large projects, define custom build configurations, and work with many different compilers and operating systems. Making it a widely chosen tool for managing build systems in C++ projects.</p>