<div data-github-url="https://github.com/kamranahmedse/developer-roadmap/tree/master/src/data/roadmaps/postgresql-dba/content/106-postgresql-security-concepts/100-object-priviliges/index.md"></div> <h1 id="object-privileges">Object Privileges</h1>
<p>Object privileges in PostgreSQL are the permissions given to different user roles to access or modify database objects like tables, views, sequences, and functions. Ensuring proper object privileges is crucial for maintaining a secure and well-functioning database.</p>
<h2 id="types-of-object-privileges">Types of Object Privileges</h2>
<p>Below are some of the most common object privileges in PostgreSQL:</p>
<ul>
<li>
<p><strong>SELECT</strong>: Grants permission for a user role to read data in a table, view or sequence.</p>
</li>
<li>
<p><strong>INSERT</strong>: Allows a user role to add new records to a table or a view.</p>
</li>
<li>
<p><strong>UPDATE</strong>: Permits a user role to modify existing records in a table, view, or sequence.</p>
</li>
<li>
<p><strong>DELETE</strong>: Lets a user role remove records from a table or a view.</p>
</li>
<li>
<p><strong>TRUNCATE</strong>: Grants permission to a user role to delete all records and reset the primary key sequence of a table.</p>
</li>
<li>
<p><strong>REFERENCES</strong>: Allows a user role to create foreign key constraints on columns of a table or a view.</p>
</li>
<li>
<p><strong>TRIGGER</strong>: Permits a user role to create, modify, or delete triggers on a table.</p>
</li>
<li>
<p><strong>USAGE</strong>: Grants permission to use a specific database object, like a sequence, function or a domain.</p>
</li>
<li>
<p><strong>EXECUTE</strong>: Allows a user role to execute a specific function or stored procedure.</p>
</li>
</ul>
<h2 id="granting-and-revoking-privileges">Granting and Revoking Privileges</h2>
<p>You can use the <code>GRANT</code> and <code>REVOKE</code> SQL commands to manage object privileges for user roles in PostgreSQL.</p>
<p>Here’s the basic syntax for granting privileges:</p>
<pre class="astro-code dracula" style="background-color:#282A36;color:#F8F8F2; overflow-x: auto;" tabindex="0" data-language="sql"><code><span class="line"><span style="color:#FF79C6">GRANT</span><span style="color:#F8F8F2"> privilege_name </span><span style="color:#FF79C6">ON</span><span style="color:#F8F8F2"> object_name </span><span style="color:#FF79C6">TO</span><span style="color:#F8F8F2"> user_role;</span></span>
<span class="line"></span></code></pre>
<p>For example, granting the SELECT privilege on a table named ‘employees’ to a user role called ‘hr_user’ would look like this:</p>
<pre class="astro-code dracula" style="background-color:#282A36;color:#F8F8F2; overflow-x: auto;" tabindex="0" data-language="sql"><code><span class="line"><span style="color:#FF79C6">GRANT</span><span style="color:#FF79C6"> SELECT</span><span style="color:#FF79C6"> ON</span><span style="color:#F8F8F2"> employees </span><span style="color:#FF79C6">TO</span><span style="color:#F8F8F2"> hr_user;</span></span>
<span class="line"></span></code></pre>
<p>To revoke a privilege, use the following basic syntax:</p>
<pre class="astro-code dracula" style="background-color:#282A36;color:#F8F8F2; overflow-x: auto;" tabindex="0" data-language="sql"><code><span class="line"><span style="color:#FF79C6">REVOKE</span><span style="color:#F8F8F2"> privilege_name </span><span style="color:#FF79C6">ON</span><span style="color:#F8F8F2"> object_name </span><span style="color:#FF79C6">FROM</span><span style="color:#F8F8F2"> user_role;</span></span>
<span class="line"></span></code></pre>
<p>For instance, to revoke the DELETE privilege from the ‘hr_user’ on the ‘employees’ table:</p>
<pre class="astro-code dracula" style="background-color:#282A36;color:#F8F8F2; overflow-x: auto;" tabindex="0" data-language="sql"><code><span class="line"><span style="color:#FF79C6">REVOKE</span><span style="color:#FF79C6"> DELETE</span><span style="color:#FF79C6"> ON</span><span style="color:#F8F8F2"> employees </span><span style="color:#FF79C6">FROM</span><span style="color:#F8F8F2"> hr_user;</span></span>
<span class="line"></span></code></pre>
<h2 id="role-based-access-control">Role-Based Access Control</h2>
<p>PostgreSQL supports role-based access control, which means you can grant privileges to a group of users instead of individual users by creating a user role with specific privileges and adding users to that role.</p>
<p>For example, you can create a role called ‘hr_group’ with SELECT, INSERT, and UPDATE privileges on the ‘employees’ table and grant these privileges to all users in the ‘hr_group’ role:</p>
<pre class="astro-code dracula" style="background-color:#282A36;color:#F8F8F2; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>CREATE ROLE hr_group;</span></span>
<span class="line"><span>GRANT SELECT, INSERT, UPDATE ON employees TO hr_group;</span></span>
<span class="line"><span>GRANT hr_group TO user1, user2, user3;</span></span>
<span class="line"><span></span></span></code></pre>
<p>By understanding and properly managing object privileges in PostgreSQL, you can significantly improve the security and operational efficiency of your database system.</p>