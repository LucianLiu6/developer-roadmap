<div data-github-url="https://github.com/kamranahmedse/developer-roadmap/tree/master/src/data/roadmaps/postgresql-dba/content/103-installation-and-setup/105-using-pgctl.md"></div> <h1 id="using-pg_ctl">Using <code>pg_ctl</code></h1>
<p><code>pg_ctl</code> is a command-line utility that enables you to manage a PostgreSQL database server. With <code>pg_ctl</code>, you can start, stop, and restart the PostgreSQL service, among other tasks. In this section, we’ll discuss how to use <code>pg_ctl</code> effectively for managing your PostgreSQL installation.</p>
<h2 id="start-the-postgresql-server">Start the PostgreSQL Server</h2>
<p>To start the PostgreSQL server, you can use the following command:</p>
<pre class="astro-code dracula" style="background-color:#282A36;color:#F8F8F2; overflow-x: auto;" tabindex="0" data-language="bash"><code><span class="line"><span style="color:#50FA7B">pg_ctl</span><span style="color:#F1FA8C"> start</span><span style="color:#BD93F9"> -D</span><span style="color:#F1FA8C"> /path/to/your_data_directory</span></span>
<span class="line"></span></code></pre>
<p>Replace <code>/path/to/your_data_directory</code> with the path of your actual data directory. This command will start the PostgreSQL server process in the background.</p>
<p>If you’d like to start the server in the foreground, you can use the <code>-l</code> flag followed by the path of the logfile:</p>
<pre class="astro-code dracula" style="background-color:#282A36;color:#F8F8F2; overflow-x: auto;" tabindex="0" data-language="bash"><code><span class="line"><span style="color:#50FA7B">pg_ctl</span><span style="color:#F1FA8C"> start</span><span style="color:#BD93F9"> -D</span><span style="color:#F1FA8C"> /path/to/your_data_directory</span><span style="color:#BD93F9"> -l</span><span style="color:#F1FA8C"> /path/to/logfile.log</span></span>
<span class="line"></span></code></pre>
<h2 id="stop-the-postgresql-server">Stop the PostgreSQL Server</h2>
<p>To stop the PostgreSQL server, use the following command:</p>
<pre class="astro-code dracula" style="background-color:#282A36;color:#F8F8F2; overflow-x: auto;" tabindex="0" data-language="bash"><code><span class="line"><span style="color:#50FA7B">pg_ctl</span><span style="color:#F1FA8C"> stop</span><span style="color:#BD93F9"> -D</span><span style="color:#F1FA8C"> /path/to/your_data_directory</span></span>
<span class="line"></span></code></pre>
<p>By default, this sends a <code>SIGTERM</code> signal to the server, which allows it to perform a fast shutdown. If you’d like to perform a smart or immediate shutdown, you can use the <code>-m</code> flag followed by the mode (i.e., <code>smart</code> or <code>immediate</code>):</p>
<pre class="astro-code dracula" style="background-color:#282A36;color:#F8F8F2; overflow-x: auto;" tabindex="0" data-language="bash"><code><span class="line"><span style="color:#50FA7B">pg_ctl</span><span style="color:#F1FA8C"> stop</span><span style="color:#BD93F9"> -D</span><span style="color:#F1FA8C"> /path/to/your_data_directory</span><span style="color:#BD93F9"> -m</span><span style="color:#F1FA8C"> smart</span></span>
<span class="line"></span></code></pre>
<h2 id="restart-the-postgresql-server">Restart the PostgreSQL Server</h2>
<p>Restarting the PostgreSQL server is done by stopping and starting the server again. You can use the following command to achieve that:</p>
<pre class="astro-code dracula" style="background-color:#282A36;color:#F8F8F2; overflow-x: auto;" tabindex="0" data-language="bash"><code><span class="line"><span style="color:#50FA7B">pg_ctl</span><span style="color:#F1FA8C"> restart</span><span style="color:#BD93F9"> -D</span><span style="color:#F1FA8C"> /path/to/your_data_directory</span></span>
<span class="line"></span></code></pre>
<p>You can also specify a shutdown mode and a log file, just like when starting and stopping the server:</p>
<pre class="astro-code dracula" style="background-color:#282A36;color:#F8F8F2; overflow-x: auto;" tabindex="0" data-language="bash"><code><span class="line"><span style="color:#50FA7B">pg_ctl</span><span style="color:#F1FA8C"> restart</span><span style="color:#BD93F9"> -D</span><span style="color:#F1FA8C"> /path/to/your_data_directory</span><span style="color:#BD93F9"> -m</span><span style="color:#F1FA8C"> smart</span><span style="color:#BD93F9"> -l</span><span style="color:#F1FA8C"> /path/to/logfile.log</span></span>
<span class="line"></span></code></pre>
<h2 id="check-the-postgresql-server-status">Check the PostgreSQL Server Status</h2>
<p>To check the status of the PostgreSQL server, you can run the following command:</p>
<pre class="astro-code dracula" style="background-color:#282A36;color:#F8F8F2; overflow-x: auto;" tabindex="0" data-language="bash"><code><span class="line"><span style="color:#50FA7B">pg_ctl</span><span style="color:#F1FA8C"> status</span><span style="color:#BD93F9"> -D</span><span style="color:#F1FA8C"> /path/to/your_data_directory</span></span>
<span class="line"></span></code></pre>
<p>This will provide you with information about the running PostgreSQL server, such as its process ID and hostname.</p>
<p>In summary, <code>pg_ctl</code> is a powerful tool for managing your PostgreSQL installation. With it, you can start, stop, restart, and check the status of your PostgreSQL server. By mastering <code>pg_ctl</code>, you can ensure that your PostgreSQL server is running smoothly and efficiently.</p>