<div data-github-url="https://github.com/kamranahmedse/developer-roadmap/tree/master/src/data/roadmaps/postgresql-dba/content/103-installation-and-setup/101-using-docker.md"></div> <h1 id="using-docker-for-postgresql-installation-and-setup">Using Docker for PostgreSQL Installation and Setup</h1>
<p>Docker is an excellent tool for simplifying the installation and management of applications, including PostgreSQL. By using Docker, you can effectively isolate PostgreSQL from your system and avoid potential conflicts with other installations or configurations.</p>
<p>In this section, we will discuss how to install and run PostgreSQL using Docker.</p>
<h2 id="prerequisites">Prerequisites</h2>
<ul>
<li>Install <a href="https://docs.docker.com/get-docker/" rel="noopener noreferrer nofollow" target="_blank">Docker</a> on your system.</li>
<li>Make sure Docker service is running.</li>
</ul>
<h2 id="steps-to-install-postgresql-using-docker">Steps to Install PostgreSQL Using Docker</h2>
<h3 id="pull-the-postgresql-docker-image">Pull the PostgreSQL Docker Image</h3>
<p>Start by pulling the latest official PostgreSQL image from Docker Hub:</p>
<pre class="astro-code dracula" style="background-color:#282A36;color:#F8F8F2; overflow-x: auto;" tabindex="0" data-language="sh"><code><span class="line"><span style="color:#50FA7B">docker</span><span style="color:#F1FA8C"> pull</span><span style="color:#F1FA8C"> postgres</span></span>
<span class="line"></span></code></pre>
<h3 id="run-the-postgresql-container">Run the PostgreSQL Container</h3>
<p>Now that you have the PostgreSQL image, run a new Docker container with the following command:</p>
<pre class="astro-code dracula" style="background-color:#282A36;color:#F8F8F2; overflow-x: auto;" tabindex="0" data-language="sh"><code><span class="line"><span style="color:#50FA7B">docker</span><span style="color:#F1FA8C"> run</span><span style="color:#BD93F9"> --name</span><span style="color:#F1FA8C"> some-postgres</span><span style="color:#BD93F9"> -e</span><span style="color:#F1FA8C"> POSTGRES_PASSWORD=mysecretpassword</span><span style="color:#BD93F9"> -d</span><span style="color:#F1FA8C"> postgres</span></span>
<span class="line"></span></code></pre>
<p>Replace <code>some-postgres</code> with a custom name for your PostgreSQL container and <code>mysecretpassword</code> with a secure password. This command will create and start a new PostgreSQL container.</p>
<h3 id="connect-to-the-postgresql-container">Connect to the PostgreSQL Container</h3>
<p>To connect to the running PostgreSQL container, you can use the following command:</p>
<pre class="astro-code dracula" style="background-color:#282A36;color:#F8F8F2; overflow-x: auto;" tabindex="0" data-language="sh"><code><span class="line"><span style="color:#50FA7B">docker</span><span style="color:#F1FA8C"> exec</span><span style="color:#BD93F9"> -it</span><span style="color:#F1FA8C"> some-postgres</span><span style="color:#F1FA8C"> psql</span><span style="color:#BD93F9"> -U</span><span style="color:#F1FA8C"> postgres</span></span>
<span class="line"></span></code></pre>
<p>Replace <code>some-postgres</code> with the name of your PostgreSQL container. You should now be connected to your PostgreSQL instance and able to run SQL commands.</p>
<h2 id="persisting-data">Persisting Data</h2>
<p>By default, all data stored within the PostgreSQL Docker container will be removed when the container is deleted. To persist data, add a volume to your container using the <code>-v</code> flag:</p>
<pre class="astro-code dracula" style="background-color:#282A36;color:#F8F8F2; overflow-x: auto;" tabindex="0" data-language="sh"><code><span class="line"><span style="color:#50FA7B">docker</span><span style="color:#F1FA8C"> run</span><span style="color:#BD93F9"> --name</span><span style="color:#F1FA8C"> some-postgres</span><span style="color:#BD93F9"> -e</span><span style="color:#F1FA8C"> POSTGRES_PASSWORD=mysecretpassword</span><span style="color:#BD93F9"> -v</span><span style="color:#F1FA8C"> /path/to/host/folder:/var/lib/postgresql/data</span><span style="color:#BD93F9"> -d</span><span style="color:#F1FA8C"> postgres</span></span>
<span class="line"></span></code></pre>
<p>Replace <code>/path/to/host/folder</code> with the directory path on your host machine where you would like the data to be stored.</p>
<h2 id="accessing-postgresql-remotely">Accessing PostgreSQL Remotely</h2>
<p>To access your PostgreSQL container remotely, you’ll need to publish the port on which it’s running. The default PostgreSQL port is 5432. Use the <code>-p</code> flag to publish the port:</p>
<pre class="astro-code dracula" style="background-color:#282A36;color:#F8F8F2; overflow-x: auto;" tabindex="0" data-language="sh"><code><span class="line"><span style="color:#50FA7B">docker</span><span style="color:#F1FA8C"> run</span><span style="color:#BD93F9"> --name</span><span style="color:#F1FA8C"> some-postgres</span><span style="color:#BD93F9"> -e</span><span style="color:#F1FA8C"> POSTGRES_PASSWORD=mysecretpassword</span><span style="color:#BD93F9"> -p</span><span style="color:#F1FA8C"> 5432:5432</span><span style="color:#BD93F9"> -d</span><span style="color:#F1FA8C"> postgres</span></span>
<span class="line"></span></code></pre>
<p>Now you can connect to your PostgreSQL container using any PostgreSQL client by providing the host IP address and the given port.</p>
<h2 id="conclusion">Conclusion</h2>
<p>Using Docker is a convenient and efficient way to install and manage PostgreSQL. By utilizing containers, you can easily control your PostgreSQL resources and maintain database isolation. Following the above steps, you can quickly install, set up, and access PostgreSQL using Docker.</p>