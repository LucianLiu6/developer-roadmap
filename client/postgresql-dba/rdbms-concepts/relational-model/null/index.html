<div data-github-url="https://github.com/kamranahmedse/developer-roadmap/tree/master/src/data/roadmaps/postgresql-dba/content/102-rdbms-concepts/101-relational-model/105-null.md"></div> <h1 id="the-relational-model-null-values">The Relational Model: Null Values</h1>
<p>One of the important concepts in the relational model is the use of <code>NULL</code> values. <code>NULL</code> is a special marker used to indicate the absence of data, meaning that the field has no value assigned, or the value is simply unknown. It is important to note that <code>NULL</code> is not the same as an empty string or a zero value, it stands for the absence of any data.</p>
<h2 id="understanding-null-in-postgresql">Understanding NULL in PostgreSQL</h2>
<p>In PostgreSQL, <code>NULL</code> plays a crucial role when dealing with missing or optional data. Let’s explore some key points to understand how <code>NULL</code> values work in PostgreSQL:</p>
<h2 id="representing-unknown-or-missing-data">Representing Unknown or Missing Data</h2>
<p>Consider the scenario where you have a table named <code>employees</code>, with columns like <code>name</code>, <code>email</code>, and <code>birthdate</code>. It’s possible that some employees don’t provide their birthdate or email address. In such cases, you can use <code>NULL</code> to indicate that the data is not available or unknown, like this:</p>
<pre class="astro-code dracula" style="background-color:#282A36;color:#F8F8F2; overflow-x: auto;" tabindex="0" data-language="sql"><code><span class="line"><span style="color:#FF79C6">INSERT INTO</span><span style="color:#F8F8F2"> employees (</span><span style="color:#FF79C6">name</span><span style="color:#F8F8F2">, email, birthdate) </span><span style="color:#FF79C6">VALUES</span><span style="color:#F8F8F2"> (</span><span style="color:#E9F284">'</span><span style="color:#F1FA8C">John Doe</span><span style="color:#E9F284">'</span><span style="color:#F8F8F2">, </span><span style="color:#FF79C6">NULL</span><span style="color:#F8F8F2">, </span><span style="color:#E9F284">'</span><span style="color:#F1FA8C">1990-01-01</span><span style="color:#E9F284">'</span><span style="color:#F8F8F2">);</span></span>
<span class="line"></span></code></pre>
<h2 id="null-in-constraints-and-unique-values">NULL in Constraints and Unique Values</h2>
<p>While creating a table, you can set constraints like <code>NOT NULL</code>, which ensures that a specific column must hold a value and cannot be left empty. If you try to insert a row with <code>NULL</code> in a <code>NOT NULL</code> column, PostgreSQL will raise an error. On the other hand, when using unique constraints, multiple <code>NULL</code> values are considered distinct, meaning you can have more than one <code>NULL</code> value even in a column with a unique constraint.</p>
<h2 id="comparing-null-values">Comparing NULL Values</h2>
<p>When comparing <code>NULL</code> values, you cannot use the common comparison operators like <code>=</code>, <code>&#x3C;></code>, <code>&#x3C;</code>, <code>></code>, or <code>BETWEEN</code>. Instead, you should use the <code>IS NULL</code> and <code>IS NOT NULL</code> operators to check for the presence or absence of <code>NULL</code> values. The ’=’ operator will always return <code>NULL</code> when compared to any value, including another null value.</p>
<p>Example:</p>
<pre class="astro-code dracula" style="background-color:#282A36;color:#F8F8F2; overflow-x: auto;" tabindex="0" data-language="sql"><code><span class="line"><span style="color:#6272A4">-- Find all employees without an email address</span></span>
<span class="line"><span style="color:#FF79C6">SELECT</span><span style="color:#FF79C6"> *</span><span style="color:#FF79C6"> FROM</span><span style="color:#F8F8F2"> employees </span><span style="color:#FF79C6">WHERE</span><span style="color:#F8F8F2"> email </span><span style="color:#FF79C6">IS</span><span style="color:#FF79C6"> NULL</span><span style="color:#F8F8F2">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6272A4">-- Find all employees with a birthdate assigned</span></span>
<span class="line"><span style="color:#FF79C6">SELECT</span><span style="color:#FF79C6"> *</span><span style="color:#FF79C6"> FROM</span><span style="color:#F8F8F2"> employees </span><span style="color:#FF79C6">WHERE</span><span style="color:#F8F8F2"> birthdate </span><span style="color:#FF79C6">IS NOT NULL</span><span style="color:#F8F8F2">;</span></span>
<span class="line"></span></code></pre>
<h2 id="null-in-aggregate-functions">NULL in Aggregate Functions</h2>
<p>When dealing with aggregate functions like <code>SUM</code>, <code>AVG</code>, <code>COUNT</code>, etc., PostgreSQL ignores <code>NULL</code> values and only considers the non-null data.</p>
<p>Example:</p>
<pre class="astro-code dracula" style="background-color:#282A36;color:#F8F8F2; overflow-x: auto;" tabindex="0" data-language="sql"><code><span class="line"><span style="color:#6272A4">-- Calculate the average birth year of employees without including NULL values</span></span>
<span class="line"><span style="color:#FF79C6">SELECT</span><span style="color:#8BE9FD"> AVG</span><span style="color:#F8F8F2">(EXTRACT(</span><span style="color:#FF79C6">YEAR</span><span style="color:#FF79C6"> FROM</span><span style="color:#F8F8F2"> birthdate)) </span><span style="color:#FF79C6">FROM</span><span style="color:#F8F8F2"> employees;</span></span>
<span class="line"></span></code></pre>
<h2 id="coalescing-null-values">Coalescing NULL values</h2>
<p>Sometimes, you may want to replace <code>NULL</code> values with default or placeholder values. PostgreSQL provides the <code>COALESCE</code> function, which allows you to do that easily.</p>
<p>Example:</p>
<pre class="astro-code dracula" style="background-color:#282A36;color:#F8F8F2; overflow-x: auto;" tabindex="0" data-language="sql"><code><span class="line"><span style="color:#6272A4">-- Replace NULL email addresses with 'N/A'</span></span>
<span class="line"><span style="color:#FF79C6">SELECT</span><span style="color:#FF79C6"> name</span><span style="color:#F8F8F2">, </span><span style="color:#8BE9FD">COALESCE</span><span style="color:#F8F8F2">(email, </span><span style="color:#E9F284">'</span><span style="color:#F1FA8C">N/A</span><span style="color:#E9F284">'</span><span style="color:#F8F8F2">) </span><span style="color:#FF79C6">as</span><span style="color:#F8F8F2"> email, birthdate </span><span style="color:#FF79C6">FROM</span><span style="color:#F8F8F2"> employees;</span></span>
<span class="line"></span></code></pre>
<p>In conclusion, <code>NULL</code> values play a crucial role in PostgreSQL and the relational model, as they allow you to represent missing or unknown data in a consistent way. Remember to handle <code>NULL</code> values appropriately with constraints, comparisons, and other operations to ensure accurate results and maintain data integrity.</p>