import{j as e}from"./jsx-runtime.CAnB4H9Z.js";import{r as o}from"./index.qVDZzPEr.js";import{s as l}from"./jwt.CBjnGchD.js";import{h as x}from"./http.DleWH6fe.js";import{S as f}from"./Spinner.xsriOokz.js";import{E as u}from"./ErrorIcon2.p7WyepRE.js";function E(){const[n,r]=o.useState(!0),[s,a]=o.useState(""),i=m=>{r(!0),x(`${{BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1,SITE:"https://roadmap.sh/",ASSETS_PREFIX:void 0}.PUBLIC_API_URL}/v1-verify-account`,{code:m}).then(({response:t,error:c})=>{if(!t?.token){a(c?.message||"Something went wrong. Please try again."),r(!1);return}l(t.token),window.location.href="/"}).catch(t=>{r(!1),a("Something went wrong. Please try again.")})};return o.useEffect(()=>{const t=new URLSearchParams(window.location.search).get("code");if(!t){r(!1),a("Something went wrong. Please try again later.");return}i(t)},[]),e.jsx("div",{className:"mx-auto flex max-w-md flex-col items-center pt-0 sm:pt-12",children:e.jsxs("div",{className:"mx-auto max-w-md text-center",children:[n&&e.jsx(f,{className:"mx-auto h-16 w-16"}),s&&e.jsx(u,{className:"mx-auto h-16 w-16"}),e.jsx("h2",{className:"mb-1 mt-4 text-center text-xl font-semibold sm:mb-3 sm:mt-4 sm:text-2xl",children:"Verifying your account"}),e.jsxs("div",{className:"text-sm sm:text-base",children:[n&&e.jsx("p",{children:"Please wait while we verify your account.."}),s&&e.jsx("p",{className:"text-red-700",children:s})]})]})})}export{E as TriggerVerifyAccount};
