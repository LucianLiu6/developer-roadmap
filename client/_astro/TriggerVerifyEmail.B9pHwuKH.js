import{j as e}from"./jsx-runtime.CAnB4H9Z.js";import{r as o}from"./index.qVDZzPEr.js";import{a as d}from"./http.DleWH6fe.js";import{s as f}from"./jwt.CBjnGchD.js";import{S as u}from"./Spinner.xsriOokz.js";import{E as h}from"./ErrorIcon2.p7WyepRE.js";import{g as p}from"./browser.t5_cZ6DD.js";import{C as g}from"./CheckIcon.CbIpeqnx.js";function v(){const{code:s}=p(),[i,t]=o.useState("loading"),[r,a]=o.useState(""),l=c=>{t("loading"),d(`${{BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1,SITE:"https://roadmap.sh/",ASSETS_PREFIX:void 0}.PUBLIC_API_URL}/v1-verify-new-email/${c}`,{}).then(({response:m,error:x})=>{if(!m?.token){a(x?.message||"Something went wrong. Please try again."),t("error");return}f(m.token),t("success")}).catch(m=>{t("error"),a("Something went wrong. Please try again.")})};o.useEffect(()=>{if(!s){t("error"),a("Something went wrong. Please try again later.");return}l(s)},[s]);const n=i==="loading";return i==="success"?e.jsxs("div",{className:"mx-auto flex max-w-md flex-col items-center pt-0 sm:pt-12",children:[e.jsx(g,{additionalClasses:"h-16 w-16 opacity-100"}),e.jsx("h2",{className:"mb-1 mt-4 text-center text-xl font-semibold sm:mb-3 sm:mt-4 sm:text-2xl",children:"Email Update Successful"}),e.jsx("p",{className:"text-sm sm:text-base",children:"Your email has been changed successfully. Happy learning!"})]}):e.jsx("div",{className:"mx-auto flex max-w-md flex-col items-center pt-0 sm:pt-12",children:e.jsxs("div",{className:"mx-auto max-w-md text-center",children:[n&&e.jsx(u,{className:"mx-auto h-16 w-16"}),r&&e.jsx(h,{className:"mx-auto h-16 w-16"}),e.jsx("h2",{className:"mb-1 mt-4 text-center text-xl font-semibold sm:mb-3 sm:mt-4 sm:text-2xl",children:"Verifying your new Email"}),e.jsxs("div",{className:"text-sm sm:text-base",children:[n&&e.jsx("p",{children:"Please wait while we verify your new Email.."}),r&&e.jsx("p",{className:"text-red-700",children:r})]})]})})}export{v as TriggerVerifyEmail};
