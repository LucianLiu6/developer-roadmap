import{c as D}from"./createLucideIcon.BiEhg7VK.js";import{j as e}from"./jsx-runtime.CAnB4H9Z.js";import{r as h}from"./index.qVDZzPEr.js";import{u as A}from"./use-toast.CP_0jytG.js";import{c as w}from"./classname.BR_JCrAi.js";import{b as O,a as H}from"./http.DleWH6fe.js";import{g as ce}from"./jwt.CBjnGchD.js";import{u as K}from"./use-copy-text.oZSbS9-c.js";import{U as oe}from"./user-round-plus.BAbkgFeg.js";import{C as Q}from"./check.CKlj7MwC.js";import{C as Z}from"./copy.CXP3E7D5.js";import{U as $}from"./users-round.C0Aw-B0P.js";import{c as me}from"./team.BdQJIqcX.js";import{u as he}from"./index.BVW7W7Ao.js";import{L as ee}from"./lock.BYgGEG3i.js";import{U as se}from"./users.VJ3qbYn4.js";import{C as xe}from"./circle-check-big.t3HpAHw2.js";import{T as ue}from"./twitter.CJQuzyAo.js";import{F as ge}from"./facebook.CoYlTxLg.js";import{L as fe}from"./linkedin.DgHrbq_t.js";import{M as z}from"./Modal.oLN6tDxH.js";import{L as W}from"./loader-circle.fm240d5J.js";/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pe=D("ArrowLeftRight",[["path",{d:"M8 3 4 7l4 4",key:"9rb6wj"}],["path",{d:"M4 7h16",key:"6tx8e3"}],["path",{d:"m16 21 4-4-4-4",key:"siv7j2"}],["path",{d:"M20 17H4",key:"h6l3hr"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const te=D("Earth",[["path",{d:"M21.54 15H17a2 2 0 0 0-2 2v4.54",key:"1djwo0"}],["path",{d:"M7 3.34V5a3 3 0 0 0 3 3v0a2 2 0 0 1 2 2v0c0 1.1.9 2 2 2v0a2 2 0 0 0 2-2v0c0-1.1.9-2 2-2h3.17",key:"1fi5u6"}],["path",{d:"M11 21.95V18a2 2 0 0 0-2-2v0a2 2 0 0 1-2-2v-1a2 2 0 0 0-2-2H2.05",key:"xsiumc"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ze=D("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);function ae(o){const{user:s,onClick:l,isSelected:t}=o;return e.jsxs("button",{className:w("relative flex w-full items-center gap-2.5 rounded-lg border p-2.5",t&&"border-gray-500 bg-gray-300 text-black"),onClick:l,children:[e.jsx("img",{src:s.avatar?`${{BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1,SITE:"https://roadmap.sh/",ASSETS_PREFIX:void 0}.PUBLIC_AVATAR_BASE_URL}/${s.avatar}`:"/images/default-avatar.png",alt:s.name||"",className:"relative top-[1px] h-10 w-10 shrink-0 rounded-full"}),e.jsxs("div",{className:"inline-grid w-full",children:[e.jsx("h3",{className:"truncate text-left font-semibold",children:s.name}),e.jsx("p",{className:w("truncate text-left text-sm text-gray-500",t&&"text-gray-700"),children:s.email})]})]})}function be(o){const s=ce()?.id,{setFriends:l,friends:t,sharedFriendIds:d,setSharedFriendIds:m}=o,g=A(),{isCopied:p,copyText:c}=K(),[i,f]=h.useState(!0),[x,a]=h.useState(!1);async function r(){if(t.length>0)return;f(!0);const{response:u,error:y}=await O(`${{BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1,SITE:"https://roadmap.sh/",ASSETS_PREFIX:void 0}.PUBLIC_API_URL}/v1-list-friends`);if(y||!u){g.error(y?.message||"Something went wrong");return}l(u.filter(k=>k.status==="accepted"))}h.useEffect(()=>{r().finally(()=>{f(!1)})},[]);const n=i&&e.jsx("ul",{className:"mt-2 grid grid-cols-3 gap-1.5",children:[...Array(3)].map((u,y)=>e.jsxs("li",{className:"flex animate-pulse items-center gap-2.5 rounded-md border p-2",children:[e.jsx("div",{className:"relative top-[1px] h-10 w-10 shrink-0 rounded-full bg-gray-200"}),e.jsxs("div",{className:"inline-grid w-full",children:[e.jsx("div",{className:"h-5 w-2/4 rounded bg-gray-200"}),e.jsx("div",{className:"mt-1 h-5 w-3/4 rounded bg-gray-200"})]})]},y))}),S=`https://roadmap.sh/befriend?u=${s}`;return e.jsxs(e.Fragment,{children:[(t.length>0||i)&&e.jsxs("div",{className:"flex items-center justify-between gap-2",children:[e.jsx("p",{className:"text-sm",children:"Select Friends to share the roadmap with"}),e.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[e.jsx("input",{type:"checkbox",checked:d.length===t.length,onChange:u=>{u.target.checked?m(t.map(y=>y.userId)):m([])}}),e.jsx("span",{className:"text-sm",children:"Select all"})]})]}),n,t.length>0&&!i&&e.jsxs(e.Fragment,{children:[e.jsx("ul",{className:"mt-2 grid grid-cols-3 gap-1.5",children:t.map(u=>{const y=d?.includes(u.userId);return e.jsx("li",{children:e.jsx(ae,{user:{name:u.name,avatar:u.avatar,email:u.email},isSelected:y,onClick:()=>{m(y?d.filter(k=>k!==u.userId):[...d,u.userId])}})},u.userId)})}),!x&&e.jsxs("p",{className:"mt-6 text-sm text-gray-600",children:["Don't see a Friend?"," ",e.jsx("button",{onClick:()=>{a(!0)},className:"font-semibold text-gray-900 underline",children:"Add them"})]}),x&&e.jsxs("div",{className:"-mx-4 -mb-4 mt-6 border-t bg-gray-50 px-4 py-4",children:[e.jsxs("p",{className:"mb-1.5 flex items-center gap-1 text-sm text-gray-800",children:[e.jsx(oe,{className:"text-gray-500",size:"20px"}),"Share the link below with your friends to invite them"]}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{readOnly:!0,type:"text",value:S,onClick:u=>{u.preventDefault(),u.target.select(),c(S)},className:w("w-full rounded-md border px-2 py-2 text-sm focus:shadow-none focus:outline-0",{"border-green-400 bg-green-50":p})}),e.jsx("button",{onClick:()=>c(S),className:"absolute bottom-0 right-0 top-0 flex items-center px-2.5",children:p?e.jsxs("span",{className:"flex items-center gap-1 text-sm font-medium text-green-600",children:[e.jsx(Q,{className:"text-green-600",size:"18px"})," Copied"]}):e.jsx(Z,{className:"text-gray-400",size:"18px"})})]})]})]}),t.length===0&&!i&&e.jsxs("div",{className:"flex h-full flex-grow flex-col items-center justify-center rounded-md border bg-gray-50 text-center",children:[e.jsx($,{className:"mb-3 h-10 w-10 text-gray-300"}),e.jsxs("p",{className:"font-semibold text-gray-500",children:["You do not have any friends yet. ",e.jsx("br",{})," ",e.jsx("a",{target:"_blank",className:"underline underline-offset-2",href:"/account/friends",children:"Invite your friends to share roadmaps with."})]})]})]})}function je(o){const{teams:s,setTeams:l,selectedTeamId:t,setSelectedTeamId:d,isTeamMembersLoading:m,currentTeamId:g,setIsTeamMembersLoading:p,onTeamChange:c}=o,i=A(),[f,x]=h.useState(!0);async function a(){if(s.length>0)return;const{response:n,error:b}=await O(`${{BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1,SITE:"https://roadmap.sh/",ASSETS_PREFIX:void 0}.PUBLIC_API_URL}/v1-get-user-teams`);if(b||!n){i.error(b?.message||"Something went wrong");return}l(n.filter(S=>["admin","manager"].includes(S.role)))}h.useEffect(()=>{a().finally(()=>x(!1))},[]);const r=f&&e.jsx("ul",{className:"mt-2 grid grid-cols-3 gap-1.5",children:[...Array(3)].map((n,b)=>e.jsx("li",{children:e.jsxs("div",{className:"relative flex w-full items-center gap-2 rounded-md border p-2",children:[e.jsx("div",{className:"h-6 w-6 shrink-0 animate-pulse rounded-full bg-gray-200"}),e.jsx("div",{className:"inline-grid w-full",children:e.jsx("div",{className:"h-4 animate-pulse rounded bg-gray-200"})})]})},b))});return e.jsxs(e.Fragment,{children:[(s.length>0||f)&&e.jsx("p",{className:"text-sm",children:"Select a team to transfer this roadmap to"}),r,s.length>0&&!f&&e.jsx("ul",{className:"mt-2 grid grid-cols-3 gap-1.5",children:s.map(n=>{const b=n._id===t;return n._id===g?null:e.jsx("li",{children:e.jsxs("button",{className:w("relative flex w-full items-center gap-2.5 rounded-lg border p-2.5 disabled:cursor-not-allowed disabled:opacity-70",b&&"border-gray-500 bg-gray-100 text-black"),disabled:m,onClick:()=>{d(b?null:n._id),c(n._id)},children:[e.jsx("img",{src:n.avatar?`${{BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1,SITE:"https://roadmap.sh/",ASSETS_PREFIX:void 0}.PUBLIC_AVATAR_BASE_URL}/${n.avatar}`:"/images/default-avatar.png",alt:n.name||"",className:"h-6 w-6 shrink-0 rounded-full"}),e.jsx("div",{className:"inline-grid w-full",children:e.jsx("h3",{className:"truncate text-left font-normal",children:n.name})})]})},n._id)})}),s.length===0&&!f&&e.jsxs("div",{className:"flex grow flex-col items-center justify-center gap-2",children:[e.jsx($,{className:"h-12 w-12 text-gray-500"}),e.jsx("p",{className:"text-gray-500",children:"You are not a member of any team."})]})]})}const ye=[{id:"me",label:"Only me",long:"Only visible to me",icon:ee},{id:"public",label:"Public",long:"Anyone can view",icon:te},{id:"friends",label:"Only friends",long:"Only friends can view",icon:se},{id:"team",label:"Only Members",long:"Visible to team members",icon:$}];function Ne(o){const{isTransferringToTeam:s,setIsTransferringToTeam:l,visibility:t,setVisibility:d,teamId:m,onChange:g}=o,p=he(me),c=i=>{l(!1),d(i),g(i)};return e.jsxs("div",{className:"flex justify-between",children:[e.jsx("ul",{className:"flex w-full items-center gap-1.5",children:ye.map(i=>{if(i.id==="friends"&&m)return null;const f=!s&&i.id===t;return e.jsx("li",{children:e.jsx(q,{label:i.label,isActive:f,icon:i.icon,onClick:()=>{c(i.id)}})},i.id)})}),(!m||p.length>1)&&e.jsx("div",{className:"grow",children:e.jsx(q,{label:"Transfer to team",icon:pe,isActive:s,onClick:()=>{l(!0)},className:'border-red-300 text-red-600 hover:border-red-200 hover:bg-red-50 data-[active="true"]:border-red-600 data-[active="true"]:bg-red-600 data-[active="true"]:text-white'})})]})}function q(o){const{label:s,isActive:l,onClick:t,icon:d,className:m}=o;return e.jsxs("button",{className:w("flex items-center justify-center gap-2 rounded-md border px-3 py-2 text-sm text-black hover:border-gray-300 hover:bg-gray-100",'data-[active="true"]:border-gray-500 data-[active="true"]:bg-gray-200 data-[active="true"]:text-black',m),"data-active":l,disabled:l,onClick:t,children:[!l&&e.jsx(d,{className:"h-4 w-4"}),l&&e.jsx(Q,{className:"h-4 w-4"}),e.jsx("span",{className:"whitespace-nowrap",children:s})]})}function G(o){const{teamId:s,title:l="Select Members",sharedTeamMemberIds:t,setSharedTeamMemberIds:d,membersCache:m,isTeamMembersLoading:g,setIsTeamMembersLoading:p}=o,c=A();async function i(){if(m.has(s))return;p(!0);const{response:a,error:r}=await O(`${{BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1,SITE:"https://roadmap.sh/",ASSETS_PREFIX:void 0}.PUBLIC_API_URL}/v1-get-team-member-list/${s}`);if(r||!a){c.error(r?.message||"Something went wrong");return}const n=a?.filter(b=>b.status==="joined")||[];m.set(s,n)}h.useEffect(()=>{i().finally(()=>{p(!1)})},[s]);const f=g&&e.jsx("ul",{className:"mt-2 grid grid-cols-3 gap-2.5",children:[...Array(3)].map((a,r)=>e.jsxs("li",{className:"flex min-h-[66px] animate-pulse items-center gap-2 rounded-md border p-2",children:[e.jsx("div",{className:"h-8 w-8 shrink-0 rounded-full bg-gray-200"}),e.jsxs("div",{className:"inline-grid w-full",children:[e.jsx("div",{className:"h-5 w-2/4 rounded bg-gray-200"}),e.jsx("div",{className:"mt-1 h-5 w-3/4 rounded bg-gray-200"})]})]},r))}),x=m.get(s)||[];return e.jsxs(e.Fragment,{children:[(x.length>0||g)&&e.jsxs("div",{className:"flex items-center justify-between gap-2",children:[e.jsx("p",{className:"text-sm",children:l}),e.jsxs("label",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",checked:t.length===x.length,onChange:a=>{a.target.checked?d(x.map(r=>r._id)):d([])}}),e.jsx("span",{className:"text-sm",children:"Select all"})]})]}),f,x?.length>0&&!g&&e.jsx("ul",{className:"mt-2 grid grid-cols-3 gap-2.5",children:x?.map(a=>{const r=t?.includes(a._id?.toString());return e.jsx("li",{children:e.jsx(ae,{user:{name:a.name,avatar:a.avatar,email:a.invitedEmail},isSelected:r,onClick:()=>{d(r?t.filter(n=>n!==a._id?.toString()):[...t,a._id?.toString()])}})},a.userId)})}),x.length===0&&!g&&e.jsxs("div",{className:"flex grow flex-col items-center justify-center gap-2",children:[e.jsx(se,{className:"h-12 w-12 text-gray-500"}),e.jsx("p",{className:"text-gray-500",children:"No members have been added yet."})]})]})}function we(o){const{roadmapSlug:s,roadmapId:l,onClose:t,description:d,visibility:m,isSharingWithOthers:g=!1}=o,p="https://roadmap.sh",c=s?`${p}/r/${s}`:`${p}/r?id=${l}`,{copyText:i,isCopied:f}=K(),x=[{title:"Twitter",href:`https://twitter.com/intent/tweet?text=${d}&url=${c}`,icon:ue},{title:"Facebook",href:`https://www.facebook.com/sharer/sharer.php?quote=${d}&u=${c}`,icon:ge},{title:"Linkedin",href:`https://www.linkedin.com/sharing/share-offsite/?url=${c}`,icon:fe}],a=`<iframe src="${p}/r/embed?id=${l}" width="100%" height="500px" frameBorder="0"
></iframe>`;return e.jsxs("div",{className:"flex grow flex-col justify-center",children:[e.jsxs("div",{className:"mt-5 flex grow flex-col items-center justify-center gap-1.5",children:[e.jsx(xe,{className:"h-14 w-14 text-green-500"}),g?e.jsx("h3",{className:"text-xl font-medium",children:"Sharing with Others"}):e.jsx("h3",{className:"text-xl font-medium",children:"Sharing Settings Updated"})]}),e.jsx("input",{type:"text",className:"mt-6 w-full rounded-md border bg-gray-50 p-2 px-2.5 text-gray-700 focus:outline-none",value:c,readOnly:!0,onClick:r=>{r.currentTarget.select(),i(c)}}),g?e.jsx("p",{className:"mt-1 text-sm text-gray-400",children:"You can share the above link with anyone"}):e.jsx("p",{className:"mt-1 text-sm text-gray-400",children:"You can share the above link with anyone who has access"}),m==="public"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"mt-2 border-t pt-2",children:[e.jsx("p",{className:"text-sm text-gray-400",children:"You can also embed this roadmap on your website."}),e.jsx("div",{className:"mt-2",children:e.jsx("input",{onClick:r=>{r.currentTarget.select(),i(a)},readOnly:!0,className:"w-full resize-none rounded-md border bg-gray-50 p-2 text-sm",value:a})})]}),e.jsxs("div",{className:"-mx-4 mt-4 flex items-center gap-1.5",children:[e.jsx("span",{className:"h-px grow bg-gray-300"}),e.jsx("span",{className:"px-2 text-xs uppercase text-gray-400",children:"Or"}),e.jsx("span",{className:"h-px grow bg-gray-300"})]}),e.jsxs("div",{className:"mt-4 flex items-center gap-2",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Share with others on"}),e.jsx("ul",{className:"flex items-center gap-1.5",children:x.map(r=>e.jsx("li",{children:e.jsx("a",{href:r.href,target:"_blank",rel:"noopener noreferrer",className:"flex h-8 w-8 items-center justify-center gap-1.5 rounded-md border bg-gray-50 text-sm text-gray-700 hover:bg-gray-100 focus:outline-none",children:e.jsx(r.icon,{className:"h-4 w-4"})})},r.title))})]})]}),e.jsxs("div",{className:"mt-4 flex flex-col items-center justify-end gap-2",children:[e.jsxs("button",{className:w("flex w-full items-center justify-center gap-1.5 rounded bg-black px-4 py-2.5 text-sm font-medium text-white hover:opacity-80",f&&"bg-green-300 text-green-800"),disabled:f,onClick:()=>{i(c)},children:[e.jsx(Z,{className:"h-3.5 w-3.5 stroke-[2.5]"}),f?"Copied":"Copy URL"]}),e.jsx("button",{className:w("flex w-full items-center justify-center gap-1.5 rounded border border-black px-4 py-2 text-sm font-medium hover:bg-gray-100"),onClick:t,children:"Close"})]})]})}function We(o){const{roadmapId:s,roadmapSlug:l,onClose:t,isDiscoverable:d=!1,visibility:m,sharedTeamMemberIds:g=[],sharedFriendIds:p=[],teamId:c,onShareSettingsUpdate:i,description:f}=o,x=A(),[a,r]=h.useState(!1),[n,b]=h.useState(!1),[S,u]=h.useState(!1),[y,k]=h.useState([]),[re,ne]=h.useState([]),[M,U]=h.useState(!1),B=h.useMemo(()=>new Map,[]),[j,le]=h.useState(m),[C,V]=h.useState(d),[v,I]=h.useState(g),[F,E]=h.useState(p),[L,X]=h.useState(null);let _=!1;(j==="friends"&&F.length===0||n&&!L||j==="team"&&c&&v.length===0)&&(_=!0);const ie=async({sharedFriendIds:N,visibility:T,sharedTeamMemberIds:R})=>{if(r(!0),T==="friends"&&N.length===0){x.error("Please select at least one friend");return}else if(T==="team"&&c&&R.length===0){x.error("Please select at least one member");return}const{response:P,error:Y}=await H(`${{BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1,SITE:"https://roadmap.sh/",ASSETS_PREFIX:void 0}.PUBLIC_API_URL}/v1-update-roadmap-visibility/${s}`,{visibility:T,sharedFriendIds:N,sharedTeamMemberIds:R,isDiscoverable:C});if(Y){x.error(Y?.message||"Something went wrong, please try again");return}r(!1),u(!0),i({isDiscoverable:C,sharedFriendIds:N,visibility:T,sharedTeamMemberIds:R})},de=h.useCallback(async(N,T)=>{if(!s)return;r(!0);const{response:R,error:P}=await H(`${{BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1,SITE:"https://roadmap.sh/",ASSETS_PREFIX:void 0}.PUBLIC_API_URL}/v1-transfer-roadmap/${s}`,{teamId:N,sharedTeamMemberIds:T,isDiscoverable:C});if(P){r(!1),x.error(P?.message||"Something went wrong, please try again");return}window.location.reload()},[s]);return S?e.jsx(z,{onClose:t,wrapperClassName:"max-w-lg",bodyClassName:"p-4 flex flex-col",children:e.jsx(we,{roadmapSlug:l,visibility:j,roadmapId:s,description:f,onClose:t})}):e.jsxs(z,{onClose:()=>{a||t()},wrapperClassName:"max-w-3xl",bodyClassName:"p-4 flex flex-col min-h-[440px]",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("h3",{className:"mb-1 text-xl font-semibold",children:"Update Sharing Settings"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Pick and modify who can access this roadmap."})]}),e.jsx(Ne,{isTransferringToTeam:n,setIsTransferringToTeam:b,visibility:j,setVisibility:le,teamId:c,onChange:N=>{X(null),["me","public"].includes(N)?(I([]),E([])):N==="friends"?E(p.length>0?p:[]):N==="team"&&c?(I(g?.length>0?g:[]),E([])):(E([]),I([])),V(N==="public")}}),e.jsxs("div",{className:"mt-4 flex grow flex-col",children:[!n&&e.jsxs(e.Fragment,{children:[j==="public"&&e.jsxs("div",{className:"flex h-full flex-grow flex-col items-center justify-center rounded-md border bg-gray-50 text-center",children:[e.jsx(te,{className:"mb-3 h-10 w-10 text-gray-300"}),e.jsx("p",{className:"font-medium text-gray-500",children:"Anyone with the link can access."})]}),j==="me"&&e.jsxs("div",{className:"flex h-full flex-grow flex-col items-center justify-center rounded-md border bg-gray-50 text-center",children:[e.jsx(ee,{className:"mb-3 h-10 w-10 text-gray-300"}),e.jsx("p",{className:"font-medium text-gray-500",children:"Only you will be able to access."})]}),j==="friends"&&e.jsx(be,{friends:y,setFriends:k,sharedFriendIds:F,setSharedFriendIds:E}),j==="team"&&c&&e.jsx(G,{teamId:c,sharedTeamMemberIds:v,setSharedTeamMemberIds:I,membersCache:B,isTeamMembersLoading:M,setIsTeamMembersLoading:U})]}),n&&e.jsxs(e.Fragment,{children:[e.jsx(je,{currentTeamId:c,teams:re,setTeams:ne,selectedTeamId:L,setSelectedTeamId:X,isTeamMembersLoading:M,setIsTeamMembersLoading:U,onTeamChange:()=>{I([])}}),L&&e.jsxs(e.Fragment,{children:[e.jsx("hr",{className:"-mx-4 my-4"}),e.jsx("div",{className:"mb-4",children:e.jsx(G,{title:"Select who can access this roadmap. You can change this later.",teamId:L,sharedTeamMemberIds:v,setSharedTeamMemberIds:I,membersCache:B,isTeamMembersLoading:M,setIsTeamMembersLoading:U})})]})]})]}),j!=="me"&&e.jsxs(e.Fragment,{children:[e.jsx("hr",{className:"-mx-4 my-4"}),e.jsx("div",{className:"mb-2",children:e.jsx(Se,{isDiscoverable:C,setIsDiscoverable:V})})]}),e.jsxs("div",{className:"mt-2 flex items-center justify-between gap-1.5",children:[e.jsx("button",{className:"flex items-center justify-center gap-1.5 rounded-md border px-3.5 py-1.5 hover:bg-gray-100 disabled:cursor-not-allowed disabled:opacity-75",disabled:a,onClick:t,children:"Close"}),n&&e.jsxs(J,{disabled:_||a||v.length===0,onClick:()=>{de(L,v).then(()=>null)},children:[a&&e.jsx(W,{className:"h-4 w-4 animate-spin"}),"Transfer"]}),!n&&e.jsxs(J,{disabled:_||a,onClick:()=>{ie({isDiscoverable:C,visibility:j,sharedTeamMemberIds:j==="team"?v:[],sharedFriendIds:j==="friends"?F:[]})},children:[a&&e.jsx(W,{className:"h-4 w-4 animate-spin"}),"Update Sharing Settings"]})]})]})}function J(o){const{onClick:s,disabled:l,children:t,className:d}=o;return e.jsx("button",{className:w("flex min-w-[120px] items-center justify-center gap-1.5 rounded-md border border-gray-900 bg-gray-900 px-4 py-2 text-white hover:bg-gray-800 disabled:cursor-not-allowed disabled:opacity-75",l&&"border-gray-700 bg-gray-700 text-white hover:bg-gray-700",d),disabled:l,onClick:s,children:t})}function Se(o){const{isDiscoverable:s,setIsDiscoverable:l}=o;return e.jsxs("label",{className:"group flex items-center gap-1.5",children:[e.jsx("input",{type:"checkbox",checked:s,onChange:t=>l(t.target.checked)}),e.jsx("span",{className:"text-sm text-gray-500 group-hover:text-gray-700",children:"Include on discovery page (when launched)"})]})}export{We as S,ze as T,we as a};
