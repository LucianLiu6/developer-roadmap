import{j as e}from"./jsx-runtime.CAnB4H9Z.js";import{r as n}from"./index.qVDZzPEr.js";import{C as D}from"./CheckIcon.CbIpeqnx.js";import{b as T,d as P,h as B}from"./http.DleWH6fe.js";import{S as F}from"./Spinner.xsriOokz.js";import{B as $}from"./BuildingIcon.DV3XDvVf.js";import{p as C}from"./page.BgB1PChG.js";import{U as O,S as z}from"./SelectRoadmapModal.DJf9RAGO.js";import{C as V}from"./CreateRoadmapModal.C3z_b9m9.js";import{u as M}from"./use-toast.CP_0jytG.js";import{M as L}from"./map._bgkvdg2.js";import{S as X}from"./shapes.BUMNhxRY.js";import{g as H,s as _}from"./browser.t5_cZ6DD.js";import{T as q}from"./TrashIcon.s8xC3r1z.js";import{R as G}from"./RoleDropdown.Dh2ybo52.js";import"./jwt.CBjnGchD.js";import"./index.DgoachrA.js";import"./index.es.B1RiJbf6.js";import"./resource-progress.D0zUEWjd.js";import"./roadmap.BEsVk7__.js";import"./index.BRGkBvr2.js";/* empty css                       */import"./use-outside-click.DwmohMvh.js";import"./use-keydown.DHXzDwpw.js";import"./dom.DTPLKm7E.js";import"./x.BPEozwHq.js";import"./createLucideIcon.BiEhg7VK.js";import"./Modal.oLN6tDxH.js";import"./classname.BR_JCrAi.js";import"./loader-circle.fm240d5J.js";import"./toast.CxFvZIRu.js";import"./ChevronDownIcon.kwzq5ePN.js";function Y(p){const{teamId:t,teamResources:r=[],setTeamResources:s}=p,f=M(),[m,h]=n.useState(""),[x,o]=n.useState(!1),[d,i]=n.useState([]),[j,N]=n.useState(""),[I,l]=n.useState(!1),[E,g]=n.useState("");async function S(){const{error:a,response:c}=await T("/pages.json");if(a){f.error(a.message||"Something went wrong. Please try again!"),g(a.message||"Something went wrong. Please try again!");return}if(!c)return[];const y=c.filter(w=>w.group==="Roadmaps").sort((w,k)=>w.title==="Android"?1:w.title.localeCompare(k.title));return i(y),c}async function u(a){if(!t)return;C.set("Deleting resource");const{error:c,response:y}=await P(`${{BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1,SITE:"https://roadmap.sh/",ASSETS_PREFIX:void 0}.PUBLIC_API_URL}/v1-delete-team-resource-config/${t}`,{resourceId:a,resourceType:"roadmap"});if(c||!y){g(c?.message||"Error deleting roadmap");return}s(y)}async function v(a){C.set("Removing roadmap"),u(a).finally(()=>{C.set("")})}async function R(a){if(!t)return;C.set("Adding roadmap to team");const c=d.find(k=>k.id===a)?.renderer,{error:y,response:w}=await P(`${{BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1,SITE:"https://roadmap.sh/",ASSETS_PREFIX:void 0}.PUBLIC_API_URL}/v1-update-team-resource-config/${t}`,{teamId:t,resourceId:a,resourceType:"roadmap",removed:[],renderer:c||"balsamiq"});if(y||!w){g(y?.message||"Error adding roadmap");return}s(w),c==="editor"&&o(!1)}n.useEffect(()=>{S().finally(()=>{})},[]);function b(a){const{_id:c}=a;c&&(S().finally(()=>{}),R(c).finally(()=>{C.set("")}))}return e.jsxs("div",{children:[j&&e.jsx(O,{onClose:()=>N(""),resourceId:j,resourceType:"roadmap",teamId:t,setTeamResourceConfig:s,defaultRemovedItems:r.find(a=>a.resourceId===j)?.removed||[]}),x&&e.jsx(z,{onClose:()=>o(!1),teamResourceConfig:r,allRoadmaps:d,teamId:t,onRoadmapAdd:a=>{R(a).finally(()=>{C.set("")})},onRoadmapRemove:a=>{v(a).finally(()=>{})}}),e.jsxs("div",{className:"my-3 flex items-center gap-4",children:[I&&e.jsx(V,{teamId:t,onClose:()=>l(!1),onCreated:a=>{b(a),l(!1)}}),e.jsxs("button",{className:"flex h-10 grow items-center justify-center gap-2 rounded-md border border-black bg-white text-black transition-colors hover:bg-black hover:text-white",onClick:()=>{o(!0)},children:[e.jsx(L,{className:"h-4 w-4 stroke-[2.5]"}),"Pick from our roadmaps"]}),e.jsx("span",{className:"text-base text-gray-400",children:"or"}),e.jsxs("button",{className:"flex h-10 grow items-center justify-center gap-2 rounded-md border border-black bg-white text-black transition-colors hover:bg-black hover:text-white",onClick:()=>{l(!0)},children:[e.jsx(X,{className:"h-4 w-4 stroke-[2.5]"}),"Create Custom Roadmap"]})]}),!r.length&&e.jsxs("div",{className:"flex min-h-[240px] flex-col items-center justify-center rounded-lg border",children:[e.jsx(L,{className:"mb-2 h-12 w-12 text-gray-300"}),e.jsx("p",{className:"text-lg font-semibold",children:"No roadmaps selected."}),e.jsxs("p",{className:"text-base text-gray-400",children:["Pick from"," ",e.jsx("span",{onClick:()=>o(!0),className:"cursor-pointer underline",children:"our roadmaps"})," ","or"," ",e.jsx("span",{onClick:()=>{l(!0)},className:"cursor-pointer underline",children:"create a new one"}),"."]})]}),r.length>0&&e.jsx("div",{className:"mb-3 grid grid-cols-1 flex-wrap gap-2.5 sm:grid-cols-3",children:r.map(({isCustomResource:a,title:c,resourceId:y,removed:w,topics:k})=>e.jsxs("div",{className:"relative flex flex-col items-start overflow-hidden rounded-md border border-gray-300",children:[e.jsxs("div",{className:"w-full flex-grow px-3 pb-2 pt-4",children:[e.jsx("span",{className:"mb-0.5 block text-base font-medium leading-snug text-black",children:c}),w.length>0||k&&k>0?e.jsx("span",{className:"text-xs leading-none text-gray-400",children:a?e.jsxs(e.Fragment,{children:["Custom · ",k," topic",k&&k>1?"s":""]}):e.jsxs(e.Fragment,{children:[w.length," topic",w.length>1?"s":""," removed"]})}):e.jsx("span",{className:"text-xs italic leading-none text-gray-400/60",children:a?"Placeholder roadmap.":"No changes made .."})]}),m===y&&e.jsx("div",{className:"flex w-full items-center justify-end p-3 text-sm",children:e.jsxs("span",{className:"text-xs text-gray-500",children:["Are you sure?"," ",e.jsx("button",{onClick:()=>v(y),className:"mx-0.5 text-red-500 underline underline-offset-1",children:"Yes"})," ",e.jsx("button",{onClick:()=>h(""),className:"text-red-500 underline underline-offset-1",children:"No"})]})}),(!m||m!==y)&&e.jsxs("div",{className:"flex w-full justify-between p-3",children:[e.jsx("button",{type:"button",className:"text-xs text-gray-500 underline hover:text-black focus:outline-none",onClick:()=>{if(a){window.open(`${{BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1,SITE:"https://roadmap.sh/",ASSETS_PREFIX:void 0}.PUBLIC_EDITOR_APP_URL}/${y}`,"_blank");return}N(y)},children:"Customize"}),e.jsx("button",{type:"button",className:"text-xs text-red-500 underline hover:text-black",onClick:()=>h(y),children:"Remove"})]})]},y))})]})}function W(p){const{steps:t,activeIndex:r=0,completeSteps:s=[]}=p;return e.jsx("ol",{className:"flex w-full items-center text-gray-500",children:t.map((f,m)=>{const h=s.includes(m),x=r===m,o=m===t.length-1;return e.jsxs(n.Fragment,{children:[e.jsxs("li",{className:`flex items-center ${h||x?"text-black":"text-gray-400"}`,children:[h&&e.jsx(D,{additionalClasses:"mr-2 top-[0.5px] w-[18px] h-[18px]"}),!h&&e.jsx("span",{className:"mr-2 font-semibold",children:m+1}),e.jsx("span",{className:"flex flex-grow",children:f.label})]}),!o&&e.jsx("li",{className:"mx-5 flex flex-grow rounded-md bg-gray-200",children:e.jsx("span",{className:"h-1 w-full"})})]},m)})},"stepper")}function U(p){const{isLoading:t=!1,text:r="Next Step",type:s="button",loadingMessage:f="Please wait ..",onClick:m=()=>null,hasNextArrow:h=!0}=p;return e.jsx("button",{type:s,onClick:m,disabled:t,className:"rounded-md border border-black bg-black px-4 py-2 text-white disabled:opacity-50",children:t?e.jsxs("span",{className:"flex items-center justify-center",children:[e.jsx(F,{}),e.jsx("span",{className:"ml-2",children:f})]}):e.jsxs(e.Fragment,{children:[r,h&&e.jsx("span",{className:"ml-1",children:"→"})]})})}function J(p){const{className:t}=p;return e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:[e.jsx("path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"9",cy:"7",r:"4"}),e.jsx("path",{d:"M22 21v-2a4 4 0 0 0-3-3.87"}),e.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]})}const K=[{value:"company",label:"Company",icon:$,description:"Track the skills and learning progress of the tech team at your company"},{value:"study_group",label:"Study Group",icon:J,description:"Invite your friends or course-mates and track your learning progress together"}];function Q(p){const{team:t,selectedTeamType:r,onStepComplete:s,setSelectedTeamType:f}=p,[m,h]=n.useState(!1),[x,o]=n.useState();async function d(){if(!t){s();return}h(!0),o("");const{response:i,error:j}=await P(`${{BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1,SITE:"https://roadmap.sh/",ASSETS_PREFIX:void 0}.PUBLIC_API_URL}/v1-update-team/${t._id}`,{name:t.name,website:t?.links?.website||void 0,type:r,gitHubUrl:t?.links?.github||void 0,...r==="company"&&{teamSize:t.teamSize,linkedInUrl:t?.links?.linkedIn||void 0}});if(j||!i){h(!1),o(j?.message||"Something went wrong");return}h(!1),o(""),s()}return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"flex flex-col gap-3 sm:flex-row",children:K.map(i=>e.jsxs("button",{className:`flex flex-grow flex-col items-center rounded-lg border px-5 pb-10 pt-12 ${i.value==r?"border-gray-400 bg-gray-100":"border-gray-300 hover:border-gray-400 hover:bg-gray-50"}`,onClick:()=>f(i.value),children:[e.jsx(i.icon,{className:`mb-3 h-12 w-12 opacity-10 ${i.value===r?"opacity-100":""}`}),e.jsx("span",{className:"mb-2 block text-2xl font-bold",children:i.label}),e.jsx("span",{className:"text-sm leading-[21px] text-gray-500",children:i.description})]},i.value))}),x&&e.jsx("div",{className:"mt-4 text-sm text-red-500",children:x}),e.jsxs("div",{className:"mt-4 flex flex-col items-stretch justify-between gap-2 md:flex-row md:items-center",children:[e.jsx("a",{href:"/account",className:"rounded-md border border-red-400 bg-white px-8 py-2 text-center text-red-500",children:"Cancel"}),e.jsx(U,{type:"button",onClick:d,isLoading:m,text:"Next Step",loadingMessage:"Updating team .."})]})]})}const Z=["1-5","6-10","11-25","26-50","51-100","101-200","201-500","501-1000","1000+"];function ee(p){const{team:t,selectedTeamType:r,onBack:s,onStepComplete:f}=p,[m,h]=n.useState(""),x=n.useRef(null);n.useEffect(()=>{x.current&&x.current.focus()},[x]);const[o,d]=n.useState(!1),[i,j]=n.useState(t?.name||""),[N,I]=n.useState(t?.links?.website||""),[l,E]=n.useState(t?.links?.linkedIn||""),[g,S]=n.useState(t?.links?.github||""),[u,v]=n.useState(t?.teamSize||""),R=async b=>{if(b.preventDefault(),d(!0),!i||!r){d(!1);return}let a,c;if(t?._id){if({response:a,error:c}=await P(`${{BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1,SITE:"https://roadmap.sh/",ASSETS_PREFIX:void 0}.PUBLIC_API_URL}/v1-update-team/${t._id}`,{name:i,website:N||void 0,type:r,gitHubUrl:g||void 0,...r==="company"&&{teamSize:u,linkedInUrl:l||void 0}}),c||a?.status!=="ok"){h(c?.message||"Something went wrong. Please try again."),d(!1);return}f({...t,name:i,_id:t._id,links:{website:N||t?.links?.website,linkedIn:l||t?.links?.linkedIn,github:g||t?.links?.github},type:r,teamSize:u})}else{if({response:a,error:c}=await B(`${{BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1,SITE:"https://roadmap.sh/",ASSETS_PREFIX:void 0}.PUBLIC_API_URL}/v1-create-team`,{name:i,website:N||void 0,type:r,gitHubUrl:g||void 0,...r==="company"&&{teamSize:u,linkedInUrl:l||void 0},roadmapIds:[],bestPracticeIds:[]}),c||!a?._id){h(c?.message||"Something went wrong. Please try again."),d(!1);return}f(a)}};return e.jsxs("form",{onSubmit:R,children:[e.jsxs("div",{className:"flex w-full flex-col",children:[e.jsx("label",{htmlFor:"name",className:'text-sm leading-none text-slate-500 after:text-red-400 after:content-["*"]',children:r==="company"?"Company Name":"Group Name"}),e.jsx("input",{type:"text",name:"name",ref:x,autoFocus:!0,id:"name",className:"mt-2 block w-full rounded-lg border border-gray-300 px-3 py-2 shadow-sm outline-none placeholder:text-gray-400 focus:ring-2 focus:ring-black focus:ring-offset-1",placeholder:"Roadmap Inc.",disabled:o,required:!0,value:i,onInput:b=>j(b.target.value)})]}),r==="company"&&e.jsxs("div",{className:"mt-4 flex w-full flex-col",children:[e.jsx("label",{htmlFor:"website",className:'text-sm leading-none text-slate-500 after:text-red-400 after:content-["*"]',children:"Website"}),e.jsx("input",{type:"url",name:"website",required:!0,id:"website",className:"mt-2 block w-full rounded-lg border border-gray-300 px-3 py-2 shadow-sm outline-none placeholder:text-gray-400 focus:ring-2 focus:ring-black focus:ring-offset-1",placeholder:"https://roadmap.sh",disabled:o,value:N,onInput:b=>I(b.target.value)})]}),r==="company"&&e.jsxs("div",{className:"mt-4 flex w-full flex-col",children:[e.jsx("label",{htmlFor:"website",className:"text-sm leading-none text-slate-500",children:"Company LinkedIn URL"}),e.jsx("input",{type:"url",name:"website",id:"website",className:"mt-2 block w-full rounded-lg border border-gray-300 px-3 py-2 shadow-sm outline-none placeholder:text-gray-400 focus:ring-2 focus:ring-black focus:ring-offset-1",placeholder:"https://www.linkedin.com/company/roadmapsh",disabled:o,value:l,onInput:b=>E(b.target.value)})]}),e.jsxs("div",{className:"mt-4 flex w-full flex-col",children:[e.jsx("label",{htmlFor:"website",className:"text-sm leading-none text-slate-500",children:"GitHub Organization URL"}),e.jsx("input",{type:"url",name:"website",id:"website",className:"mt-2 block w-full rounded-lg border border-gray-300 px-3 py-2 shadow-sm outline-none placeholder:text-gray-400 focus:ring-2 focus:ring-black focus:ring-offset-1",placeholder:"https://github.com/roadmapsh",disabled:o,value:g,onInput:b=>S(b.target.value)})]}),r==="company"&&e.jsxs("div",{className:"mt-4 flex w-full flex-col",children:[e.jsx("label",{htmlFor:"team-size",className:'text-sm leading-none text-slate-500 after:text-red-400 after:content-["*"]',children:"Tech Team Size"}),e.jsxs("select",{name:"team-size",id:"team-size",className:"mt-2 block w-full rounded-lg border border-gray-300 px-3 py-2 shadow-sm outline-none placeholder:text-gray-400 focus:ring-2 focus:ring-black focus:ring-offset-1",required:r==="company",disabled:o,value:u,onChange:b=>v(b.target.value),children:[e.jsx("option",{value:"",children:"Select team size"}),Z.map(b=>e.jsxs("option",{value:b,children:[b," people"]},b))]})]}),m&&e.jsx("div",{className:"mt-4 flex w-full flex-col",children:e.jsx("span",{className:"text-sm text-red-500",children:m})}),e.jsxs("div",{className:"mt-4 flex flex-col items-center justify-between gap-2 md:flex-row",children:[e.jsxs("button",{type:"button",onClick:s,className:"rounded-md border border-red-400 bg-white px-4 py-2 text-red-500",children:[e.jsx("span",{className:"mr-1",children:"←"}),"Previous Step"]}),e.jsx(U,{isLoading:o,text:"Next Step",type:"submit",loadingMessage:"Creating team .."})]})]})}function te(p){const{team:t,onBack:r,onNext:s,teamResourceConfig:f,setTeamResourceConfig:m}=p;return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"mt-4 flex w-full flex-col",children:[e.jsxs("div",{className:"mb-1 mt-2",children:[e.jsx("h2",{className:"mb-1 text-lg font-bold md:mb-1.5 md:text-2xl",children:"Select Roadmaps"}),e.jsx("p",{className:"text-sm text-gray-700",children:"You can always add and customize your roadmaps later."})]}),e.jsx(Y,{teamId:t._id,teamResources:f,setTeamResources:m})]}),e.jsxs("div",{className:"mt-4 flex flex-col items-stretch justify-between gap-2 md:flex-row md:items-center",children:[e.jsxs("button",{type:"button",onClick:r,className:"rounded-md border border-red-400 bg-white px-4 py-2 text-red-500",children:[e.jsx("span",{className:"mr-1",children:"←"}),"Previous Step"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{type:"button",onClick:s,disabled:f.length!==0,className:"flex-grow rounded-md border border-gray-300 bg-white px-4 py-2 text-gray-500 hover:border-gray-400 hover:text-black md:flex-auto disabled:opacity-50 disabled:pointer-events-none",children:"Skip for Now"}),e.jsxs("button",{type:"submit",disabled:f.length===0,onClick:s,className:"rounded-md border bg-black px-4 py-2 text-white disabled:opacity-50",children:["Next Step",e.jsx("span",{className:"ml-1",children:"→"})]})]})]})]})}function A(){return`${new Date().getTime()}`}function se(p){const{onNext:t,onBack:r,team:s}=p,[f,m]=n.useState(""),[h,x]=n.useState(!1),o=n.useRef(null),[d,i]=n.useState([{id:A(),email:"",role:"member"}]);async function j(){x(!0);const{error:l,response:E}=await B(`${{BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1,SITE:"https://roadmap.sh/",ASSETS_PREFIX:void 0}.PUBLIC_API_URL}/v1-invite-team/${s?._id}`,{members:d});if(l||!E){m(l?.message||"Something went wrong"),x(!1);return}t()}function N(){o.current&&o.current.focus()}function I(l){l.preventDefault(),j().finally(()=>null)}return n.useEffect(()=>{N()},[d.length]),e.jsxs("form",{className:"mt-4 flex w-full flex-col",onSubmit:I,children:[e.jsxs("div",{className:"mb-1 mt-2",children:[e.jsx("h2",{className:"mb-1 md:mb-2 text-lg md:text-2xl font-bold",children:"Invite your Team"}),e.jsx("p",{className:"text-sm text-gray-700",children:"Use the form below to invite your team members to your team. You can also invite them later."})]}),e.jsx("div",{className:"mt-4 flex flex-col gap-1",children:d.map((l,E)=>e.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[e.jsx("input",{ref:E===d.length-1?o:null,autoFocus:!0,type:"email",name:"email",required:!0,id:"email",placeholder:"Email",value:l.email,onChange:g=>{const S=d.map(u=>u.id===l.id?{...u,email:g.target?.value}:u);i(S)},className:"flex-grow rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-900"}),e.jsx(G,{selectedRole:l.role,setSelectedRole:g=>{const S=d.map(u=>u.id===l.id?{...u,role:g}:u);i(S)}}),e.jsx("button",{disabled:d.length<=1,type:"button",className:"rounded-md border border-red-200 bg-white px-4 py-2 text-red-500 hover:bg-red-100 disabled:opacity-30",onClick:()=>{i(d.filter(g=>g.id!==l.id))},children:e.jsx(q,{className:"h-5 w-5"})})]},l.id))}),d.length<=30&&e.jsx("button",{onClick:()=>{i([...d,{id:A(),email:"",role:"member"}])},type:"button",className:"mt-2 rounded-md border border-dashed border-gray-400 py-2 text-sm text-gray-500 hover:border-gray-500 hover:text-gray-800",children:"+ Add another"}),f&&e.jsx("div",{className:"mt-2 text-sm font-medium text-red-500",role:"alert",children:f}),e.jsxs("div",{className:"mt-4 flex flex-col sm:flex-row items-stretch md:items-center justify-between gap-2",children:[e.jsxs("button",{type:"button",onClick:r,className:"rounded-md border border-red-400 bg-white px-4 py-2 text-red-500",children:[e.jsx("span",{className:"mr-1",children:"←"}),"Previous Step"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{type:"button",onClick:t,disabled:d.filter(l=>l.email).length!==0,className:"rounded-md flex-grow md:flex-auto border border-gray-300 bg-white px-4 py-2 text-gray-500 hover:border-gray-400 hover:text-black disabled:opacity-50 disabled:pointer-events-none",children:"Skip for Now"}),e.jsx(U,{type:"submit",isLoading:h,text:"Send Invites",loadingMessage:"Updating team ..",hasNextArrow:!1})]})]})]})}function ae({team:p}){return e.jsx("div",{className:"mt-4 flex flex-col rounded-xl border py-12 text-center",children:e.jsxs("div",{className:"mb-1 flex flex-col items-center",children:[e.jsx(D,{additionalClasses:"h-14 w-14 mb-4 opacity-100"}),e.jsx("h2",{className:"mb-2 text-2xl font-bold",children:"Team Created"}),e.jsx("p",{className:"text-sm text-gray-700",children:"Your team has been created. Happy learning!"}),e.jsx("a",{href:`/team/activity?t=${p._id}`,className:"mt-4 rounded-md bg-black px-5 py-1.5 text-sm text-white",children:"View Team"})]})})}function De(){const{s:p,t}=H(),r=M(),[s,f]=n.useState(),[m,h]=n.useState(!!t&&!s?._id),[x,o]=n.useState(0);async function d(u,v){const{response:R,error:b}=await T(`${{BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1,SITE:"https://roadmap.sh/",ASSETS_PREFIX:void 0}.PUBLIC_API_URL}/v1-get-team/${u}`);if(b||!R){r.error(b?.message||"Error loading team"),window.location.href="/account";return}const a=parseInt(v,10),c=Array(a).fill(1).map((y,w)=>w);f(R),l(R.type),g(c),o(a),await N(u)}const[i,j]=n.useState([]);async function N(u){const{error:v,response:R}=await T(`${{BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1,SITE:"https://roadmap.sh/",ASSETS_PREFIX:void 0}.PUBLIC_API_URL}/v1-get-team-resource-config/${u}`);if(v||!Array.isArray(R)){console.error(v);return}j(R)}n.useEffect(()=>{!t||!p||s||(C.set("Fetching team"),h(!0),d(t,p).finally(()=>{h(!1),C.set("")}))},[t,p]);const[I,l]=n.useState(s?.type||"company"),[E,g]=n.useState([0]);if(m)return null;let S=null;return x===0?S=e.jsx(Q,{team:s,selectedTeamType:I,setSelectedTeamType:l,onStepComplete:()=>{s?._id&&_({t:s._id,s:"1"}),g([0]),o(1)}}):x===1?S=e.jsx(ee,{team:s,onBack:()=>{s?._id&&_({t:s._id,s:"0"}),o(0)},onStepComplete:u=>{const v=u._id;_({t:v,s:"2"}),g([0,1]),o(2),f(u)},selectedTeamType:I}):x===2?S=e.jsx(te,{team:s,teamResourceConfig:i,setTeamResourceConfig:j,onBack:()=>{s&&_({t:s._id,s:"1"}),o(1)},onNext:()=>{_({t,s:"3"}),g([0,1,2]),o(3)}}):x===3?S=e.jsx(se,{team:s,onBack:()=>{s&&_({t:s._id,s:"2"}),o(2)},onNext:()=>{s&&_({t:s._id,s:"4"}),g([0,1,2,3]),o(4)}}):x===4&&(S=e.jsx(ae,{team:s})),e.jsxs("div",{className:"mx-auto max-w-[700px] py-1 md:py-6",children:[e.jsxs("div",{className:"mb-3 flex flex-col items-start border-b pb-3 md:mb-8 md:items-center md:border-b-0 md:pb-0",children:[e.jsx("h1",{className:"text-xl font-bold md:text-4xl",children:"Create Team"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500 md:mt-2 md:text-base",children:"Complete the steps below to create your team"})]}),e.jsx("div",{className:"mb-8 mt-8 hidden w-full sm:flex",children:e.jsx(W,{activeIndex:x,completeSteps:E,steps:[{label:"Type"},{label:"Details"},{label:"Skills"},{label:"Members"}]})}),S]})}export{De as CreateTeamForm};
